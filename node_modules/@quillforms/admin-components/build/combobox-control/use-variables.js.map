{"version":3,"names":["_data","require","_lodash","useVariables","_ref","section","variables","useSelect","select","_ref2","getLogicVariables","fields","size","id","variable","Object","entries","push","type","value","label","iconBox","isMergeTag","_default","exports","default"],"sources":["@quillforms/admin-components/src/combobox-control/use-variables.ts"],"sourcesContent":["/**\r\n * QuillForms Dependencies\r\n */\r\nimport type { FormLogicVariables } from '@quillforms/types';\r\n\r\n/**\r\n * WordPress Dependencies\r\n */\r\nimport { useSelect } from '@wordpress/data';\r\n\r\n/**\r\n * External Dependencies\r\n */\r\nimport { size } from 'lodash';\r\n\r\n/**\r\n * Internal Dependencies\r\n */\r\nimport type { Options } from '.';\r\n\r\nconst useVariables = ( { section } ) => {\r\n\r\n\tconst { variables } = useSelect( ( select ) => {\r\n\t\treturn {\r\n\t\t\tvariables:\r\n\t\t\t\t( select(\r\n\t\t\t\t\t'quillForms/logic-editor'\r\n\t\t\t\t\t// @ts-ignore.\r\n\t\t\t\t)?.getLogicVariables() as FormLogicVariables ) ?? {},\r\n\t\t};\r\n\t} );\r\n\r\n\tconst fields: Options = [];\r\n\tif ( size( variables ) > 0 ) {\r\n\t\tfor ( const [ id, variable ] of Object.entries( variables ) ) {\r\n\t\t\tfields.push( {\r\n\t\t\t\ttype: 'variable',\r\n\t\t\t\tvalue: id,\r\n\t\t\t\tlabel: variable?.label,\r\n\t\t\t\ticonBox: {},\r\n\t\t\t\tsection,\r\n\t\t\t\tisMergeTag: true,\r\n\t\t\t} );\r\n\t\t}\r\n\t}\r\n\r\n\treturn fields;\r\n};\r\n\r\nexport default useVariables;\r\n"],"mappings":";;;;;;AAQA,IAAAA,KAAA,GAAAC,OAAA;AAKA,IAAAC,OAAA,GAAAD,OAAA;AAbA;AACA;AACA;;AAGA;AACA;AACA;;AAGA;AACA;AACA;;AAQA,MAAME,YAAY,GAAGC,IAAA,IAAmB;EAAA,IAAjB;IAAEC;EAAQ,CAAC,GAAAD,IAAA;EAEjC,MAAM;IAAEE;EAAU,CAAC,GAAG,IAAAC,eAAS,EAAIC,MAAM,IAAM;IAAA,IAAAC,KAAA;IAC9C,OAAO;MACNH,SAAS,GAAAG,KAAA,GACND,MAAM,CACP;MACA;MAAA,CACA,EAAEE,iBAAiB,EAAE,cAAAD,KAAA,cAAAA,KAAA,GAA4B,CAAC;IACrD,CAAC;EACF,CAAC,CAAE;EAEH,MAAME,MAAe,GAAG,EAAE;EAC1B,IAAK,IAAAC,YAAI,EAAEN,SAAS,CAAE,GAAG,CAAC,EAAG;IAC5B,KAAM,MAAM,CAAEO,EAAE,EAAEC,QAAQ,CAAE,IAAIC,MAAM,CAACC,OAAO,CAAEV,SAAS,CAAE,EAAG;MAC7DK,MAAM,CAACM,IAAI,CAAE;QACZC,IAAI,EAAE,UAAU;QAChBC,KAAK,EAAEN,EAAE;QACTO,KAAK,EAAEN,QAAQ,EAAEM,KAAK;QACtBC,OAAO,EAAE,CAAC,CAAC;QACXhB,OAAO;QACPiB,UAAU,EAAE;MACb,CAAC,CAAE;IACJ;EACD;EAEA,OAAOX,MAAM;AACd,CAAC;AAAC,IAAAY,QAAA,GAEapB,YAAY;AAAAqB,OAAA,CAAAC,OAAA,GAAAF,QAAA"}