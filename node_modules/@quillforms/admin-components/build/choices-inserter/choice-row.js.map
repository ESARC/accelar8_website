{"version":3,"names":["_icons","require","_components","_mediaUtils","_emotion","_choicesContext","_textControl","_interopRequireDefault","_pictureIcon","ChoiceRow","_ref","choices","index","provided","withAttachment","labelChangeHandler","addChoice","deleteChoice","deleteImageHandler","handleMediaUpload","useChoiceContext","item","imageUrl","_element","createElement","className","dragHandleProps","Icon","icon","dragHandle","css","closeSmall","onClick","MediaUpload","onSelect","media","allowedTypes","render","_ref2","open","default","value","label","onChange","val","plus","length","_default","exports"],"sources":["@quillforms/admin-components/src/choices-inserter/choice-row.tsx"],"sourcesContent":["/**\r\n * WordPress Dependencies\r\n */\r\nimport { plus, closeSmall, dragHandle } from '@wordpress/icons';\r\nimport { Icon } from '@wordpress/components';\r\nimport { MediaUpload } from '@wordpress/media-utils';\r\n\r\n/**\r\n * External Dependencies\r\n */\r\nimport { css } from 'emotion';\r\n\r\n/**\r\n * Internal Depenedencies\r\n */\r\nimport { useChoiceContext } from './choices-context';\r\nimport TextControl from '../text-control';\r\nimport type { Choices } from '../choices-bulk-btn/types';\r\nimport { DraggableProvided } from 'react-beautiful-dnd';\r\nimport PictureIcon from './picture-icon';\r\ninterface Props {\r\n\tchoices: Choices;\r\n\tindex: number;\r\n\tprovided: DraggableProvided;\r\n}\r\nconst ChoiceRow: React.FC< Props > = ( { choices, index, provided } ) => {\r\n\tconst {\r\n\t\twithAttachment,\r\n\t\tlabelChangeHandler,\r\n\t\taddChoice,\r\n\t\tdeleteChoice,\r\n\t\tdeleteImageHandler,\r\n\t\thandleMediaUpload,\r\n\t} = useChoiceContext();\r\n\tconst item = choices[ index ];\r\n\tconst { imageUrl } = item;\r\n\treturn (\r\n\t\t<div className=\"admin-components-choices-inserter__choice-row\">\r\n\t\t\t<div { ...provided.dragHandleProps }>\r\n\t\t\t\t<Icon icon={ dragHandle } />\r\n\t\t\t</div>\r\n\t\t\t{ withAttachment && (\r\n\t\t\t\t<div\r\n\t\t\t\t\tclassName={ css`\r\n\t\t\t\t\t\tposition: ABSOLUTE;\r\n\t\t\t\t\t\tleft: 31px;\r\n\t\t\t\t\t\tz-index: 111111111;\r\n\t\t\t\t\t\theight: 34px;\r\n\t\t\t\t\t\twidth: 34px;\r\n\t\t\t\t\t\tpadding: 4px;\r\n\t\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\t\talign-items: center;\r\n\t\t\t\t\t\tjustify-content: center;\r\n\t\t\t\t\t\tborder-right: 1px solid #e3e3e3;\r\n\t\t\t\t\t` }\r\n\t\t\t\t>\r\n\t\t\t\t\t{ imageUrl ? (\r\n\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\tclassName={ css`\r\n\t\t\t\t\t\t\t\twidth: 100%;\r\n\t\t\t\t\t\t\t\theight: 100%;\r\n\t\t\t\t\t\t\t\tbackground-image: url( ${ imageUrl } );\r\n\t\t\t\t\t\t\t\tbackground-size: cover;\r\n\t\t\t\t\t\t\t` }\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\tclassName={ css`\r\n\t\t\t\t\t\t\t\t\tposition: absolute;\r\n\t\t\t\t\t\t\t\t\ttop: -8px;\r\n\t\t\t\t\t\t\t\t\tright: -8px;\r\n\t\t\t\t\t\t\t\t\tbackground: #c34c50;\r\n\t\t\t\t\t\t\t\t\twidth: 15px;\r\n\t\t\t\t\t\t\t\t\theight: 15px;\r\n\t\t\t\t\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\t\t\t\t\talign-items: center;\r\n\t\t\t\t\t\t\t\t\tborder-radius: 50%;\r\n\t\t\t\t\t\t\t\t\tcursor: pointer;\r\n\t\t\t\t\t\t\t\t` }\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Icon\r\n\t\t\t\t\t\t\t\t\tclassName={ css`\r\n\t\t\t\t\t\t\t\t\t\tfill: #fff;\r\n\t\t\t\t\t\t\t\t\t` }\r\n\t\t\t\t\t\t\t\t\ticon={ closeSmall }\r\n\t\t\t\t\t\t\t\t\tonClick={ () => {\r\n\t\t\t\t\t\t\t\t\t\tdeleteImageHandler( index );\r\n\t\t\t\t\t\t\t\t\t} }\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<MediaUpload\r\n\t\t\t\t\t\t\tonSelect={ ( media ) =>\r\n\t\t\t\t\t\t\t\thandleMediaUpload( media, index )\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tallowedTypes={ [ 'image' ] }\r\n\t\t\t\t\t\t\trender={ ( { open } ) => (\r\n\t\t\t\t\t\t\t\t<PictureIcon onClick={ open } />\r\n\t\t\t\t\t\t\t) }\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t) }\r\n\t\t\t\t</div>\r\n\t\t\t) }\r\n\t\t\t<TextControl\r\n\t\t\t\tclassName={ css`\r\n\t\t\t\t\twidth: 100%;\r\n\t\t\t\t\tinput.components-text-control__input {\r\n\t\t\t\t\t\t${ withAttachment && `padding-left: 40px !important` }\r\n\t\t\t\t\t}\r\n\t\t\t\t` }\r\n\t\t\t\tvalue={ item.label }\r\n\t\t\t\tonChange={ ( val ) => labelChangeHandler( val, index ) }\r\n\t\t\t/>\r\n\r\n\t\t\t<div className=\"admin-components-choices-inserter__choice-actions\">\r\n\t\t\t\t<div className=\"admin-components-choices-inserter__choice-add\">\r\n\t\t\t\t\t<Icon\r\n\t\t\t\t\t\ticon={ plus }\r\n\t\t\t\t\t\tonClick={ () => addChoice( index + 1 ) }\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t\t{ choices.length > 1 && (\r\n\t\t\t\t\t<div className=\"admin-components-choices-inserter__choice-remove\">\r\n\t\t\t\t\t\t<Icon\r\n\t\t\t\t\t\t\tclassName={ css`\r\n\t\t\t\t\t\t\t\tfill: #fff;\r\n\t\t\t\t\t\t\t` }\r\n\t\t\t\t\t\t\ticon={ closeSmall }\r\n\t\t\t\t\t\t\tonClick={ () => {\r\n\t\t\t\t\t\t\t\tdeleteChoice( item.value );\r\n\t\t\t\t\t\t\t} }\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t) }\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default ChoiceRow;\r\n"],"mappings":"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"}