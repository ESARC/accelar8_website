"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;
var _element = require("@wordpress/element");
var _lodash = require("lodash");
var _components = require("@wordpress/components");
var _data = require("@wordpress/data");
var _react = require("react");
/**
 * External dependencies
 */

/**
 * WordPress dependencies
 */
// @ts-expect-error

const AdminNotices = () => {
  const {
    notices
  } = (0, _data.useSelect)(select => {
    return {
      // @ts-expect-error
      notices: select('core/notices').getNotices()
    };
  });
  const {
    removeNotice
  } = (0, _data.useDispatch)('core/notices');
  const snackbarNotices = (0, _lodash.filter)(notices, {
    type: 'snackbar'
    // @ts-expect-error
  });

  (0, _react.useEffect)(() => {
    if (snackbarNotices.length > 2) {
      snackbarNotices.slice(0, snackbarNotices.length - 2).forEach(notice => removeNotice(notice.id));
    }
  }, [snackbarNotices]);
  return (0, _element.createElement)(_element.Fragment, null, (0, _element.createElement)(_components.SnackbarList, {
    notices: snackbarNotices,
    className: "admin-components-admin-notices__snackbar",
    onRemove: removeNotice
  }));
};
var _default = AdminNotices;
exports.default = _default;
//# sourceMappingURL=index.js.map