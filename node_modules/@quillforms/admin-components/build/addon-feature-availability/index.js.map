{"version":3,"names":["_navigation","require","_config","_interopRequireDefault","_components","_emotion","_lockIcon","AddonFeatureAvailability","_ref","featureName","addonSlug","showLockIcon","license","ConfigApi","getLicense","addon","getStoreAddons","featurePlanLabel","getPlans","plan","label","isPlanAccessible","content","_element","createElement","is_installed","licenseNote","status","className","is_active","name","NavLink","to","Icon","icon","lockIcon","size","css","href","target","_default","exports","default"],"sources":["@quillforms/admin-components/src/addon-feature-availability/index.tsx"],"sourcesContent":["/**\r\n * QuillForms Dependencies\r\n */\r\nimport { NavLink } from '@quillforms/navigation';\r\nimport ConfigApi from '@quillforms/config';\r\n\r\n/**\r\n * WordPress Dependencies\r\n */\r\nimport { Icon } from '@wordpress/components';\r\n\r\n/**\r\n * External Dependencies\r\n */\r\nimport { css } from 'emotion';\r\n\r\n/** \r\n * Internal Dependencies\r\n */\r\nimport lockIcon from './lock-icon';\r\n\r\ninterface Props {\r\n\tfeatureName: string;\r\n\taddonSlug: string;\r\n\tshowLockIcon: boolean;\r\n}\r\n\r\nconst AddonFeatureAvailability: React.FC<Props> = ({\r\n\tfeatureName,\r\n\taddonSlug,\r\n\tshowLockIcon,\r\n}) => {\r\n\tconst license = ConfigApi.getLicense();\r\n\tconst addon = ConfigApi.getStoreAddons()[addonSlug];\r\n\tconst featurePlanLabel = ConfigApi.getPlans()[addon.plan].label;\r\n\tconst isPlanAccessible = ConfigApi.isPlanAccessible(addon.plan);\r\n\r\n\tlet content = <div></div>;\r\n\r\n\t// if addon installed.\r\n\tif (addon.is_installed) {\r\n\t\t// license note in case of invalid or low level license.\r\n\t\tlet licenseNote = <div></div>;\r\n\t\tif (license?.status !== 'valid') {\r\n\t\t\tlicenseNote = (\r\n\t\t\t\t<div className=\"addon-feature-availability-license-note\">\r\n\t\t\t\t\tRenewing your license is recommended to receive updates for\r\n\t\t\t\t\tthis addon.\r\n\t\t\t\t</div>\r\n\t\t\t);\r\n\t\t} else if (!isPlanAccessible) {\r\n\t\t\tlicenseNote = (\r\n\t\t\t\t<div className=\"addon-feature-availability-license-note\">\r\n\t\t\t\t\tUpgrading your license to {featurePlanLabel} is\r\n\t\t\t\t\trecommended to receive updates for this addon.\r\n\t\t\t\t</div>\r\n\t\t\t);\r\n\t\t}\r\n\t\t// if addon is active, shouldn't be reached in most cases.\r\n\t\tif (addon.is_active) {\r\n\t\t\tcontent = (\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<div>{featureName} is already available.</div>\r\n\t\t\t\t\t{licenseNote}\r\n\t\t\t\t</div>\r\n\t\t\t);\r\n\t\t\t// else, the addon is not active -but installed-.\r\n\t\t} else {\r\n\t\t\tcontent = (\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<div>{featureName} is already available.</div>\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\tPlease activate <b>{addon.name}</b> addon from{' '}\r\n\t\t\t\t\t\t<NavLink\r\n\t\t\t\t\t\t\tto={`/admin.php?page=quillforms&path=addons`}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\taddons page\r\n\t\t\t\t\t\t</NavLink>{' '}\r\n\t\t\t\t\t\tto use it.\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t{licenseNote}\r\n\t\t\t\t</div>\r\n\t\t\t);\r\n\t\t}\r\n\t\t// else, addon is not installed.\r\n\t} else {\r\n\t\t// if license is valid and the feature plan is accessible.\r\n\t\tif (license?.status === 'valid' && isPlanAccessible) {\r\n\t\t\tcontent = (\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<div>{featureName} is available for your plan.</div>\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\tPlease install and activate {addon.name} addon from{' '}\r\n\t\t\t\t\t\t<NavLink\r\n\t\t\t\t\t\t\tto={`/admin.php?page=quillforms&path=addons`}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\taddons page\r\n\t\t\t\t\t\t</NavLink>{' '}\r\n\t\t\t\t\t\tto use it.\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t);\r\n\t\t\t// else, no license or the license is invalid or the feature of addon require higher plan.\r\n\t\t} else {\r\n\t\t\tcontent = (\r\n\t\t\t\t<div>\r\n\t\t\t\t\t{showLockIcon && (\r\n\t\t\t\t\t\t<Icon\r\n\t\t\t\t\t\t\tclassName=\"addon-feature-availability-lock-icon\"\r\n\t\t\t\t\t\t\ticon={lockIcon}\r\n\t\t\t\t\t\t\tsize={120}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t<p\r\n\t\t\t\t\t\tclassName={css`\r\n\t\t\t\t\t\t\tfont-size: 15px;\r\n\t\t\t\t\t\t` }\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\tWe're sorry, {featureName} is not available\r\n\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\ton your plan. Please upgrade to the {\r\n\t\t\t\t\t\t\tfeaturePlanLabel\r\n\t\t\t\t\t\t}{' '}\r\n\t\t\t\t\t\tplan to unlock\r\n\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\tall of {featurePlanLabel} features.\r\n\t\t\t\t\t</p>\r\n\t\t\t\t\t<a\r\n\t\t\t\t\t\thref=\"https://quillforms.com\"\r\n\t\t\t\t\t\ttarget=\"_blank\"\r\n\t\t\t\t\t\tclassName=\"addon-feature-availability-upgrade-button\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\tUpgrade to {featurePlanLabel}!\r\n\t\t\t\t\t</a>\r\n\t\t\t\t</div>\r\n\t\t\t);\r\n\t\t}\r\n\t}\r\n\r\n\treturn <div className=\"addon-feature-availability\">{content}</div>;\r\n};\r\n\r\nexport default AddonFeatureAvailability;\r\n"],"mappings":"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"}