{"version":3,"names":["plus","closeSmall","dragHandle","Icon","MediaUpload","css","useChoiceContext","TextControl","PictureIcon","ChoiceRow","_ref","choices","index","provided","withAttachment","labelChangeHandler","addChoice","deleteChoice","deleteImageHandler","handleMediaUpload","item","imageUrl","createElement","className","dragHandleProps","icon","onClick","onSelect","media","allowedTypes","render","_ref2","open","value","label","onChange","val","length"],"sources":["@quillforms/admin-components/src/choices-inserter/choice-row.tsx"],"sourcesContent":["/**\r\n * WordPress Dependencies\r\n */\r\nimport { plus, closeSmall, dragHandle } from '@wordpress/icons';\r\nimport { Icon } from '@wordpress/components';\r\nimport { MediaUpload } from '@wordpress/media-utils';\r\n\r\n/**\r\n * External Dependencies\r\n */\r\nimport { css } from 'emotion';\r\n\r\n/**\r\n * Internal Depenedencies\r\n */\r\nimport { useChoiceContext } from './choices-context';\r\nimport TextControl from '../text-control';\r\nimport type { Choices } from '../choices-bulk-btn/types';\r\nimport { DraggableProvided } from 'react-beautiful-dnd';\r\nimport PictureIcon from './picture-icon';\r\ninterface Props {\r\n\tchoices: Choices;\r\n\tindex: number;\r\n\tprovided: DraggableProvided;\r\n}\r\nconst ChoiceRow: React.FC< Props > = ( { choices, index, provided } ) => {\r\n\tconst {\r\n\t\twithAttachment,\r\n\t\tlabelChangeHandler,\r\n\t\taddChoice,\r\n\t\tdeleteChoice,\r\n\t\tdeleteImageHandler,\r\n\t\thandleMediaUpload,\r\n\t} = useChoiceContext();\r\n\tconst item = choices[ index ];\r\n\tconst { imageUrl } = item;\r\n\treturn (\r\n\t\t<div className=\"admin-components-choices-inserter__choice-row\">\r\n\t\t\t<div { ...provided.dragHandleProps }>\r\n\t\t\t\t<Icon icon={ dragHandle } />\r\n\t\t\t</div>\r\n\t\t\t{ withAttachment && (\r\n\t\t\t\t<div\r\n\t\t\t\t\tclassName={ css`\r\n\t\t\t\t\t\tposition: ABSOLUTE;\r\n\t\t\t\t\t\tleft: 31px;\r\n\t\t\t\t\t\tz-index: 111111111;\r\n\t\t\t\t\t\theight: 34px;\r\n\t\t\t\t\t\twidth: 34px;\r\n\t\t\t\t\t\tpadding: 4px;\r\n\t\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\t\talign-items: center;\r\n\t\t\t\t\t\tjustify-content: center;\r\n\t\t\t\t\t\tborder-right: 1px solid #e3e3e3;\r\n\t\t\t\t\t` }\r\n\t\t\t\t>\r\n\t\t\t\t\t{ imageUrl ? (\r\n\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\tclassName={ css`\r\n\t\t\t\t\t\t\t\twidth: 100%;\r\n\t\t\t\t\t\t\t\theight: 100%;\r\n\t\t\t\t\t\t\t\tbackground-image: url( ${ imageUrl } );\r\n\t\t\t\t\t\t\t\tbackground-size: cover;\r\n\t\t\t\t\t\t\t` }\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\tclassName={ css`\r\n\t\t\t\t\t\t\t\t\tposition: absolute;\r\n\t\t\t\t\t\t\t\t\ttop: -8px;\r\n\t\t\t\t\t\t\t\t\tright: -8px;\r\n\t\t\t\t\t\t\t\t\tbackground: #c34c50;\r\n\t\t\t\t\t\t\t\t\twidth: 15px;\r\n\t\t\t\t\t\t\t\t\theight: 15px;\r\n\t\t\t\t\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\t\t\t\t\talign-items: center;\r\n\t\t\t\t\t\t\t\t\tborder-radius: 50%;\r\n\t\t\t\t\t\t\t\t\tcursor: pointer;\r\n\t\t\t\t\t\t\t\t` }\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Icon\r\n\t\t\t\t\t\t\t\t\tclassName={ css`\r\n\t\t\t\t\t\t\t\t\t\tfill: #fff;\r\n\t\t\t\t\t\t\t\t\t` }\r\n\t\t\t\t\t\t\t\t\ticon={ closeSmall }\r\n\t\t\t\t\t\t\t\t\tonClick={ () => {\r\n\t\t\t\t\t\t\t\t\t\tdeleteImageHandler( index );\r\n\t\t\t\t\t\t\t\t\t} }\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<MediaUpload\r\n\t\t\t\t\t\t\tonSelect={ ( media ) =>\r\n\t\t\t\t\t\t\t\thandleMediaUpload( media, index )\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tallowedTypes={ [ 'image' ] }\r\n\t\t\t\t\t\t\trender={ ( { open } ) => (\r\n\t\t\t\t\t\t\t\t<PictureIcon onClick={ open } />\r\n\t\t\t\t\t\t\t) }\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t) }\r\n\t\t\t\t</div>\r\n\t\t\t) }\r\n\t\t\t<TextControl\r\n\t\t\t\tclassName={ css`\r\n\t\t\t\t\twidth: 100%;\r\n\t\t\t\t\tinput.components-text-control__input {\r\n\t\t\t\t\t\t${ withAttachment && `padding-left: 40px !important` }\r\n\t\t\t\t\t}\r\n\t\t\t\t` }\r\n\t\t\t\tvalue={ item.label }\r\n\t\t\t\tonChange={ ( val ) => labelChangeHandler( val, index ) }\r\n\t\t\t/>\r\n\r\n\t\t\t<div className=\"admin-components-choices-inserter__choice-actions\">\r\n\t\t\t\t<div className=\"admin-components-choices-inserter__choice-add\">\r\n\t\t\t\t\t<Icon\r\n\t\t\t\t\t\ticon={ plus }\r\n\t\t\t\t\t\tonClick={ () => addChoice( index + 1 ) }\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t\t{ choices.length > 1 && (\r\n\t\t\t\t\t<div className=\"admin-components-choices-inserter__choice-remove\">\r\n\t\t\t\t\t\t<Icon\r\n\t\t\t\t\t\t\tclassName={ css`\r\n\t\t\t\t\t\t\t\tfill: #fff;\r\n\t\t\t\t\t\t\t` }\r\n\t\t\t\t\t\t\ticon={ closeSmall }\r\n\t\t\t\t\t\t\tonClick={ () => {\r\n\t\t\t\t\t\t\t\tdeleteChoice( item.value );\r\n\t\t\t\t\t\t\t} }\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t) }\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default ChoiceRow;\r\n"],"mappings":"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"}