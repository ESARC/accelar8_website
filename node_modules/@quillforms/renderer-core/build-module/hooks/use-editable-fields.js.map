{"version":3,"names":["useSelect","useBlocks","useFlattenedBlocks","useEditableFields","flatten","arguments","length","undefined","blockTypes","select","getBlockTypes","formBlocks","flattenedBlocks","Object","values","editableFields","filter","block","blockType","name","supports","editable"],"sources":["@quillforms/renderer-core/src/hooks/use-editable-fields.ts"],"sourcesContent":["/**\r\n * WordPress Dependencies\r\n */\r\nimport { useSelect } from '@wordpress/data';\r\n\r\n/**\r\n * Internal Dependencies\r\n */\r\nimport useBlocks from './use-blocks';\r\nimport useFlattenedBlocks from './use-flattened-blocks';\r\n\r\nconst useEditableFields = ( flatten = false ) => {\r\n\tconst { blockTypes } = useSelect( ( select ) => {\r\n\t\treturn {\r\n\t\t\tblockTypes: select( 'quillForms/blocks' ).getBlockTypes(),\r\n\t\t};\r\n\t} );\r\n\tlet formBlocks = useBlocks();\r\n\tconst flattenedBlocks = useFlattenedBlocks( formBlocks );\r\n\tif ( flatten ) {\r\n\t\tformBlocks = Object.values( flattenedBlocks );\r\n\t}\r\n\r\n\tconst editableFields = formBlocks.filter( ( block ) => {\r\n\t\tconst blockType = blockTypes[ block.name ];\r\n\t\treturn blockType?.supports?.editable === true;\r\n\t} );\r\n\r\n\treturn editableFields;\r\n};\r\n\r\nexport default useEditableFields;\r\n"],"mappings":"AAAA;AACA;AACA;AACA,SAASA,SAAS,QAAQ,iBAAiB;;AAE3C;AACA;AACA;AACA,OAAOC,SAAS,MAAM,cAAc;AACpC,OAAOC,kBAAkB,MAAM,wBAAwB;AAEvD,MAAMC,iBAAiB,GAAG,SAAAA,CAAA,EAAuB;EAAA,IAArBC,OAAO,GAAAC,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAG,KAAK;EAC1C,MAAM;IAAEG;EAAW,CAAC,GAAGR,SAAS,CAAIS,MAAM,IAAM;IAC/C,OAAO;MACND,UAAU,EAAEC,MAAM,CAAE,mBAAmB,CAAE,CAACC,aAAa;IACxD,CAAC;EACF,CAAC,CAAE;EACH,IAAIC,UAAU,GAAGV,SAAS,EAAE;EAC5B,MAAMW,eAAe,GAAGV,kBAAkB,CAAES,UAAU,CAAE;EACxD,IAAKP,OAAO,EAAG;IACdO,UAAU,GAAGE,MAAM,CAACC,MAAM,CAAEF,eAAe,CAAE;EAC9C;EAEA,MAAMG,cAAc,GAAGJ,UAAU,CAACK,MAAM,CAAIC,KAAK,IAAM;IACtD,MAAMC,SAAS,GAAGV,UAAU,CAAES,KAAK,CAACE,IAAI,CAAE;IAC1C,OAAOD,SAAS,EAAEE,QAAQ,EAAEC,QAAQ,KAAK,IAAI;EAC9C,CAAC,CAAE;EAEH,OAAON,cAAc;AACtB,CAAC;AAED,eAAeZ,iBAAiB"}