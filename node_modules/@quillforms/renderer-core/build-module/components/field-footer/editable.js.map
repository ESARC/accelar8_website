{"version":3,"names":["useSelect","FieldAction","ErrMsg","__experimentalUseFieldRenderContext","SubmitBtn","EditableBlockFooter","_ref","id","shakingErr","isValid","validationErr","select","isValidField","getFieldValidationErr","next","isErrMsgVisible","showErrMsg","isLastField","createElement","Fragment","length","message","clickHandler"],"sources":["@quillforms/renderer-core/src/components/field-footer/editable.tsx"],"sourcesContent":["/**\r\n * WordPress Dependencies\r\n */\r\nimport { useSelect } from '@wordpress/data';\r\n\r\n/**\r\n * Internal Dependencies\r\n */\r\nimport FieldAction from '../field-action';\r\nimport ErrMsg from '../error-message';\r\nimport { __experimentalUseFieldRenderContext } from '../field-render';\r\nimport SubmitBtn from '../submit-btn';\r\n\r\ninterface Props {\r\n\tid: string | undefined;\r\n\tshakingErr: string | null;\r\n}\r\nconst EditableBlockFooter: React.FC< Props > = ( { id, shakingErr } ) => {\r\n\tif ( ! id ) return null;\r\n\tconst { isValid, validationErr } = useSelect( ( select ) => {\r\n\t\treturn {\r\n\t\t\tisValid: select( 'quillForms/renderer-core' ).isValidField( id ),\r\n\t\t\tvalidationErr: select(\r\n\t\t\t\t'quillForms/renderer-core'\r\n\t\t\t).getFieldValidationErr( id ),\r\n\t\t};\r\n\t} );\r\n\tconst {\r\n\t\tnext,\r\n\t\tisErrMsgVisible,\r\n\t\tshowErrMsg,\r\n\t\tisLastField,\r\n\t} = __experimentalUseFieldRenderContext();\r\n\treturn (\r\n\t\t<>\r\n\t\t\t{ shakingErr ||\r\n\t\t\t( ! isValid && validationErr?.length > 0 && isErrMsgVisible ) ? (\r\n\t\t\t\t// @ts-expect-error\r\n\t\t\t\t<ErrMsg message={ shakingErr ? shakingErr : validationErr } />\r\n\t\t\t) : isLastField ? (\r\n\t\t\t\t<SubmitBtn />\r\n\t\t\t) : (\r\n\t\t\t\t// @ts-expect-error\r\n\t\t\t\t<FieldAction\r\n\t\t\t\t\tclickHandler={ () => {\r\n\t\t\t\t\t\tif ( validationErr && ! isValid ) {\r\n\t\t\t\t\t\t\tshowErrMsg( true );\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tnext();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} }\r\n\t\t\t\t/>\r\n\t\t\t) }\r\n\t\t</>\r\n\t);\r\n};\r\nexport default EditableBlockFooter;\r\n"],"mappings":";AAAA;AACA;AACA;AACA,SAASA,SAAS,QAAQ,iBAAiB;;AAE3C;AACA;AACA;AACA,OAAOC,WAAW,MAAM,iBAAiB;AACzC,OAAOC,MAAM,MAAM,kBAAkB;AACrC,SAASC,mCAAmC,QAAQ,iBAAiB;AACrE,OAAOC,SAAS,MAAM,eAAe;AAMrC,MAAMC,mBAAsC,GAAGC,IAAA,IAA0B;EAAA,IAAxB;IAAEC,EAAE;IAAEC;EAAW,CAAC,GAAAF,IAAA;EAClE,IAAK,CAAEC,EAAE,EAAG,OAAO,IAAI;EACvB,MAAM;IAAEE,OAAO;IAAEC;EAAc,CAAC,GAAGV,SAAS,CAAIW,MAAM,IAAM;IAC3D,OAAO;MACNF,OAAO,EAAEE,MAAM,CAAE,0BAA0B,CAAE,CAACC,YAAY,CAAEL,EAAE,CAAE;MAChEG,aAAa,EAAEC,MAAM,CACpB,0BAA0B,CAC1B,CAACE,qBAAqB,CAAEN,EAAE;IAC5B,CAAC;EACF,CAAC,CAAE;EACH,MAAM;IACLO,IAAI;IACJC,eAAe;IACfC,UAAU;IACVC;EACD,CAAC,GAAGd,mCAAmC,EAAE;EACzC,OACCe,aAAA,CAAAC,QAAA,QACGX,UAAU,IACV,CAAEC,OAAO,IAAIC,aAAa,EAAEU,MAAM,GAAG,CAAC,IAAIL,eAAiB;EAC5D;EACAG,aAAA,CAAChB,MAAM;IAACmB,OAAO,EAAGb,UAAU,GAAGA,UAAU,GAAGE;EAAe,EAAG,GAC3DO,WAAW,GACdC,aAAA,CAACd,SAAS,OAAG;EAEb;EACAc,aAAA,CAACjB,WAAW;IACXqB,YAAY,EAAGA,CAAA,KAAM;MACpB,IAAKZ,aAAa,IAAI,CAAED,OAAO,EAAG;QACjCO,UAAU,CAAE,IAAI,CAAE;MACnB,CAAC,MAAM;QACNF,IAAI,EAAE;MACP;IACD;EAAG,EAEJ,CACC;AAEL,CAAC;AACD,eAAeT,mBAAmB"}