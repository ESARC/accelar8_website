{"version":3,"names":["select","mapValues","pickBy","find","size","forEach","getBlocksRecursively","walkPath","allBlocks","block","push","name","innerBlocks","childBlock","getSwiperState","state","swiper","getWalkPath","isAnimating","getCurrentBlockId","currentBlockId","getWelcomeScreens","welcomeScreens","getThankYouScreens","thankyouScreens","getBlockById","id","isThankyouScreenActive","isWelcomeScreenActive","isCurrentBlockSafeToSwipe","isReviewing","submit","isSubmitting","getPaymentData","paymentData","getBlockCounterValue","blocksWithCounter","getFieldsBySupportCriteria","counterValue","findIndex","editableField","undefined","getEditableFieldsInCurrentPath","filter","hasBlockSupport","supportCriteria","blockTypesSelector","matched","feature","getAnswers","answers","getAnswersValues","o","value","getAnsweredFieldsLength","answeredFields","isAnswered","getFieldAnswerVal","answer","getInvalidAnswers","invalidFields","isValid","getInvalidFieldsLength","getFirstInvalidFieldId","invalidFieldsIds","Object","keys","firstField","includes","isAnsweredField","isValidField","hasValidFields","$block","$blockId","isFieldPending","isPending","getPendingMsg","values","_answer$pendingMsg","pendingMsg","getFieldValidationErr","validationErr","isFocused","shouldFooterBeDisplayed","footerDisplay","getSubmissionErr","submissionErr"],"sources":["@quillforms/renderer-core/src/store/selectors.ts"],"sourcesContent":["/**\r\n * QuillForms Dependencies\r\n */\r\nimport type { FormBlock, FormBlocks } from '@quillforms/types';\r\n\r\n/**\r\n * WordPress Dependencies\r\n */\r\nimport { select } from '@wordpress/data';\r\n\r\n/**\r\n * External Dependencies\r\n */\r\nimport { mapValues, pickBy, find, size, forEach } from 'lodash';\r\n\r\n/**\r\n * Internal Dependencies\r\n */\r\nimport type { State } from './reducer';\r\nimport type { RendererAnswersState, Screen, SwiperState } from './types';\r\n\r\nexport const getBlocksRecursively = ( walkPath: FormBlocks ): FormBlocks => {\r\n\tconst allBlocks: FormBlocks = [];\r\n\tforEach( walkPath, ( block ) => {\r\n\t\tallBlocks.push( block );\r\n\r\n\t\tif ( block.name === 'group' && size( block.innerBlocks ) > 0 ) {\r\n\t\t\tforEach( block.innerBlocks, ( childBlock ) => {\r\n\t\t\t\tallBlocks.push( childBlock );\r\n\t\t\t} );\r\n\t\t}\r\n\t} );\r\n\treturn allBlocks;\r\n};\r\n/**\r\n * Get swiper state.\r\n *\r\n * @param {State} state Global application state.\r\n *\r\n * @return {Object} The swiper state\r\n */\r\nexport function getSwiperState( state: State ): SwiperState {\r\n\treturn state.swiper;\r\n}\r\n\r\n/**\r\n * Get walk path.\r\n *\r\n * @param {State} state Global application state.\r\n *\r\n * @return {Array} Walk path\r\n */\r\nexport function getWalkPath( state: State ): FormBlocks {\r\n\treturn state.swiper.walkPath;\r\n}\r\n\r\n/**\r\n * Is animating\r\n *\r\n * @param {State} state Global application state.\r\n *\r\n * @return {boolean} Is animating\r\n */\r\nexport function isAnimating( state: State ): boolean {\r\n\treturn state.swiper.isAnimating;\r\n}\r\n/**\r\n * Get current block id.\r\n *\r\n * @param {State} state Global application state.\r\n *\r\n * @return {string}  Current block id\r\n */\r\nexport function getCurrentBlockId( state: State ): string | undefined {\r\n\treturn state.swiper.currentBlockId;\r\n}\r\n\r\n/**\r\n * Get welcome screens.\r\n *\r\n * @param {State} state Global application state.\r\n *\r\n * @return {Screen[]} Welcome screens\r\n */\r\nexport function getWelcomeScreens( state: State ): Screen[] {\r\n\treturn state.swiper.welcomeScreens;\r\n}\r\n\r\n/**\r\n * Get thank you screens.\r\n *\r\n * @param {State} state Global application state.\r\n *\r\n * @return {Screen[]} Thank you screens\r\n */\r\nexport function getThankYouScreens( state: State ): Screen[] {\r\n\treturn state.swiper.thankyouScreens;\r\n}\r\n\r\n/**\r\n * Get block by id\r\n *\r\n * @param {State}  state Global application state.\r\n * @param {string} id    The block id.\r\n *\r\n * @return {FormBlock } The block\r\n */\r\nexport function getBlockById(\r\n\tstate: State,\r\n\tid: string\r\n): FormBlock | undefined {\r\n\treturn state.swiper.walkPath.find( ( block ) => block.id === id );\r\n}\r\n\r\n/**\r\n * Is thankyou screen active.\r\n *\r\n * @param {State} state Global application state.\r\n *\r\n * @return {boolean} Is thankyou screen active\r\n */\r\nexport function isThankyouScreenActive( state: State ): boolean {\r\n\treturn state.swiper.isThankyouScreenActive;\r\n}\r\n\r\n/**\r\n * Is welcome screen active.\r\n *\r\n * @param {State} state Global application state.\r\n *\r\n * @return {boolean} Is welcome screen active\r\n */\r\nexport function isWelcomeScreenActive( state: State ): boolean {\r\n\treturn state.swiper.isWelcomeScreenActive;\r\n}\r\n\r\n/**\r\n * Is Current Block Safe to Swipe\r\n *\r\n * @param {State} state Global application state.\r\n *\r\n * @return {boolean} Is submitting\r\n */\r\nexport function isCurrentBlockSafeToSwipe( state: State ): boolean {\r\n\treturn state.swiper.isCurrentBlockSafeToSwipe;\r\n}\r\n\r\n/**\r\n * Is reviewing\r\n *\r\n * @param {State} state Global application state.\r\n *\r\n * @return {boolean} Is reviewing\r\n */\r\nexport function isReviewing( state: State ): boolean {\r\n\treturn state.submit.isReviewing;\r\n}\r\n\r\n/**\r\n * Is submitting\r\n *\r\n * @param {State} state Global application state.\r\n *\r\n * @return {boolean} Is submitting\r\n */\r\nexport function isSubmitting( state: State ): boolean {\r\n\treturn state.submit.isSubmitting;\r\n}\r\n\r\n/**\r\n * Get payment data.\r\n *\r\n * @param {State} state Global application state.\r\n *\r\n * @return {boolean} Is payment modal active\r\n */\r\nexport function getPaymentData( state: State ): boolean {\r\n\treturn state.submit.paymentData;\r\n}\r\n\r\n/**\r\n * Get block counter value\r\n *\r\n * @param {State}  state Global application state.\r\n * @param {string} id    Block id.\r\n *\r\n * @return {?number} The block counter value.\r\n */\r\nexport function getBlockCounterValue(\r\n\tstate: State,\r\n\tid: string\r\n): number | undefined {\r\n\tconst blocksWithCounter = getFieldsBySupportCriteria( state, [\r\n\t\t'editable',\r\n\t\t'innerBlocks',\r\n\t] );\r\n\tconst counterValue = blocksWithCounter.findIndex(\r\n\t\t( editableField ) => editableField.id === id\r\n\t);\r\n\tif ( counterValue === -1 ) return undefined;\r\n\treturn counterValue;\r\n}\r\n/**\r\n * Get current path editable fields\r\n *\r\n * @param {State} state Global application state.\r\n *\r\n * @return {Array} The editable fields in current path\r\n */\r\nexport const getEditableFieldsInCurrentPath = ( state: State ) => {\r\n\treturn state.swiper.walkPath.filter( ( block ) => {\r\n\t\treturn select( 'quillForms/blocks' ).hasBlockSupport(\r\n\t\t\tblock.name,\r\n\t\t\t'editable'\r\n\t\t);\r\n\t} );\r\n};\r\n\r\n/**\r\n *\r\n * Get Fields by support criteria\r\n *\r\n * @param {State} state           Global application state.\r\n * @param {Array} supportCriteria The block type support criteria.\r\n *\r\n * @return {Array} The  fields in current path with the support criteria passed.\r\n */\r\nexport const getFieldsBySupportCriteria = ( state: State, supportCriteria ) => {\r\n\tconst blockTypesSelector = select( 'quillForms/blocks' );\r\n\treturn state.swiper.walkPath.filter( ( block ) => {\r\n\t\tlet matched = false;\r\n\t\tsupportCriteria.forEach( ( feature ) => {\r\n\t\t\tif (\r\n\t\t\t\tblockTypesSelector.hasBlockSupport( block.name, feature ) ===\r\n\t\t\t\ttrue\r\n\t\t\t) {\r\n\t\t\t\tmatched = true;\r\n\t\t\t}\r\n\t\t} );\r\n\r\n\t\treturn matched;\r\n\t} );\r\n};\r\n\r\n/**\r\n * Get all answers.\r\n *\r\n * @param {State} state Global application state.\r\n *\r\n * @return {RendererAnswersState} Answers\r\n */\r\nexport function getAnswers( state: State ): RendererAnswersState {\r\n\treturn state.answers;\r\n}\r\n\r\n/**\r\n * Get answers values.\r\n *\r\n * @param {RendererAnswersState} state Global application state.\r\n *\r\n * @return {Object} Answers values\r\n *\r\n */\r\nexport function getAnswersValues( state: State ): Record< string, unknown > {\r\n\treturn mapValues( state.answers, ( o ) => {\r\n\t\treturn o.value;\r\n\t} );\r\n}\r\n\r\n/**\r\n * Get count of answered fields.\r\n *\r\n * @param {State} state\r\n *\r\n * @return {number} Answered fields count\r\n */\r\nexport function getAnsweredFieldsLength( state: State ): number {\r\n\tconst answeredFields = pickBy(\r\n\t\tstate.answers,\r\n\t\t( value ) => value?.isAnswered === true\r\n\t);\r\n\treturn answeredFields ? size( answeredFields ) : 0;\r\n}\r\n\r\n/**\r\n * Get field answer value.\r\n *\r\n * @param {State}  state Global application state.\r\n * @param {string} id    Field id.\r\n *\r\n * @return {unknown} Field answer value\r\n */\r\nexport function getFieldAnswerVal( state: State, id: string ): unknown {\r\n\tconst answer = state.answers[ id ]?.value;\r\n\treturn answer;\r\n}\r\n\r\n/**\r\n * Get invalid fields\r\n *\r\n * @param {State} state\r\n *\r\n * @return {Partial< RendererAnswersState >} Invalid fields keyed by id\r\n */\r\nexport function getInvalidAnswers(\r\n\tstate: State\r\n): Partial< RendererAnswersState > {\r\n\tconst invalidFields = pickBy( state.answers, ( o ) => o.isValid === false );\r\n\treturn invalidFields;\r\n}\r\n\r\n/**\r\n * Get invalid fields length\r\n *\r\n * @param {State} state\r\n *\r\n * @return {number} Invalid fields length\r\n */\r\nexport function getInvalidFieldsLength( state: State ): number {\r\n\treturn size( getInvalidAnswers( state ) );\r\n}\r\n\r\n/**\r\n * Get first invalid field id\r\n *\r\n * @param {State} state\r\n *\r\n * @return {?string} First invalid field id\r\n */\r\nexport const getFirstInvalidFieldId = ( state: State ): string | undefined => {\r\n\tconst invalidFields = getInvalidAnswers( state );\r\n\tif ( size( invalidFields ) > 0 ) {\r\n\t\tconst invalidFieldsIds = Object.keys( invalidFields );\r\n\t\tconst walkPath = getBlocksRecursively( getWalkPath( state ) );\r\n\t\tconst firstField = find( walkPath, ( o ) =>\r\n\t\t\tinvalidFieldsIds.includes( o.id )\r\n\t\t);\r\n\t\tif ( firstField ) return firstField.id;\r\n\t}\r\n\treturn undefined;\r\n};\r\n\r\n/**\r\n * Is answered field.\r\n *\r\n * @param {State}  state Global application state.\r\n * @param {string} id    Field id.\r\n *\r\n * @return {boolean} showErr flag\r\n */\r\nexport function isAnsweredField( state: State, id: string ): boolean {\r\n\treturn state.answers[ id ]?.isAnswered === true;\r\n}\r\n\r\n/**\r\n * Is valid field.\r\n *\r\n * @param {State}  state Global application state.\r\n * @param {string} id    Field id.\r\n *\r\n * @return {boolean} showErr flag\r\n */\r\nexport function isValidField( state: State, id: string ): boolean {\r\n\treturn state.answers[ id ]?.isValid;\r\n}\r\n\r\n/**\r\n * Has valid fields.\r\n * This for blocks that support inner blocks like group.\r\n *\r\n * @param {State}  state Global application state.\r\n * @param {string} id    Field id.\r\n *\r\n * @return {boolean} showErr flag\r\n */\r\nexport function hasValidFields( state: State, id: string ): boolean {\r\n\tconst block = getBlockById( state, id );\r\n\tif ( ! block ) return false;\r\n\tlet isValid = true;\r\n\tif ( size( block?.innerBlocks ) > 0 ) {\r\n\t\tforEach( block.innerBlocks, ( $block ) => {\r\n\t\t\tconst $blockId = $block.id;\r\n\t\t\tif ( ! state.answers?.[ $blockId ]?.isValid ) {\r\n\t\t\t\tisValid = false;\r\n\t\t\t}\r\n\t\t} );\r\n\t}\r\n\treturn isValid;\r\n}\r\n\r\n/**\r\n * Is field pending.\r\n *\r\n * @param {State}  state Global application state.\r\n * @param {string} id    Field id.\r\n *\r\n * @return {boolean} isPending flag.\r\n */\r\nexport function isFieldPending( state: State, id: string ): boolean {\r\n\treturn state.answers[ id ]?.isPending;\r\n}\r\n\r\n/**\r\n * Get pending message if pending.\r\n *\r\n * @param {State}  state Global application state.\r\n * @param {string} id    Field id.\r\n *\r\n * @return {string|false} Pending message if pending, or false.\r\n */\r\nexport function getPendingMsg( state: State ): string | false {\r\n\tfor ( const answer of Object.values( state.answers ) ) {\r\n\t\tif ( answer?.isPending ) return answer.pendingMsg ?? '';\r\n\t}\r\n\treturn false;\r\n}\r\n\r\n/**\r\n * Get field validation error message.\r\n *\r\n * @param {State}  state Global application state.\r\n * @param {string} id    Field id.\r\n *\r\n * @return {string} Field validation error message\r\n */\r\nexport function getFieldValidationErr( state: State, id: string ): string | [] {\r\n\tconst validationErr = state.answers[ id ]?.validationErr;\r\n\treturn validationErr ? validationErr : [];\r\n}\r\n\r\n/**\r\n * Get is focused flag\r\n *\r\n * @param {State} state Global application state.\r\n *\r\n * @return {boolean} isFocused flag\r\n */\r\nexport function isFocused( state: State ): boolean {\r\n\treturn state.isFocused;\r\n}\r\n\r\n/**\r\n * Should footer be displayed flag\r\n *\r\n * @param {State} state Global application state.\r\n *\r\n * @return {boolean} isFocused flag\r\n */\r\nexport function shouldFooterBeDisplayed( state: State ): boolean {\r\n\treturn state.footerDisplay;\r\n}\r\n\r\n/**\r\n * Get submission error message\r\n *\r\n * @param {State} state Global application state.\r\n *\r\n * @return {string} submission error message\r\n */\r\nexport function getSubmissionErr( state: State ): string {\r\n\treturn state.submit.submissionErr;\r\n}\r\n"],"mappings":"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"}