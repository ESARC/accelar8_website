{"version":3,"names":["_element","require","_data","_hooks","_hooks2","WelcomeScreensWrapper","formId","useFormContext","blockTypes","useBlockTypes","welcomeScreens","currentBlockId","useSelect","select","getWelcomeScreens","getCurrentBlockId","useEffect","doAction","id","goNext","useDispatch","createElement","Fragment","length","map","screen","blockType","display","next","isActive","key","attributes","_default","exports","default"],"sources":["@quillforms/renderer-core/src/components/welcome-screens-wrapper/index.tsx"],"sourcesContent":["/**\r\n * WordPress Dependencies\r\n */\r\nimport { useSelect, useDispatch } from '@wordpress/data';\r\nimport { useEffect } from '@wordpress/element';\r\nimport { doAction } from '@wordpress/hooks';\r\n\r\n/**\r\n * Internal Dependencies\r\n */\r\nimport { useBlockTypes, useFormContext } from '../../hooks';\r\nconst WelcomeScreensWrapper = () => {\r\n\tconst { formId } = useFormContext();\r\n\tconst blockTypes = useBlockTypes();\r\n\r\n\tconst { welcomeScreens, currentBlockId } = useSelect( ( select ) => {\r\n\t\treturn {\r\n\t\t\twelcomeScreens: select(\r\n\t\t\t\t'quillForms/renderer-core'\r\n\t\t\t).getWelcomeScreens(),\r\n\t\t\tcurrentBlockId: select(\r\n\t\t\t\t'quillForms/renderer-core'\r\n\t\t\t).getCurrentBlockId(),\r\n\t\t};\r\n\t} );\r\n\r\n\tuseEffect( () => {\r\n\t\t// fire event on unmount.\r\n\t\treturn () => {\r\n\t\t\tdoAction( 'QuillForms.RendererCore.WelcomeScreenPassed', {\r\n\t\t\t\tformId,\r\n\t\t\t\tid: currentBlockId,\r\n\t\t\t} );\r\n\t\t};\r\n\t}, [] );\r\n\r\n\tconst { goNext } = useDispatch( 'quillForms/renderer-core' );\r\n\treturn (\r\n\t\t<>\r\n\t\t\t{ welcomeScreens?.length > 0 &&\r\n\t\t\t\twelcomeScreens.map( ( screen ) => {\r\n\t\t\t\t\tconst blockType = blockTypes[ 'welcome-screen' ];\r\n\t\t\t\t\treturn (\r\n\t\t\t\t\t\t//@ts-expect-error\r\n\t\t\t\t\t\t<blockType.display\r\n\t\t\t\t\t\t\tnext={ goNext }\r\n\t\t\t\t\t\t\tisActive={ currentBlockId === screen.id }\r\n\t\t\t\t\t\t\tkey={ screen.id }\r\n\t\t\t\t\t\t\tid={ screen.id }\r\n\t\t\t\t\t\t\tattributes={ screen.attributes }\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t);\r\n\t\t\t\t} ) }\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default WelcomeScreensWrapper;\r\n"],"mappings":";;;;;;AAIA,IAAAA,QAAA,GAAAC,OAAA;AADA,IAAAC,KAAA,GAAAD,OAAA;AAEA,IAAAE,MAAA,GAAAF,OAAA;AAKA,IAAAG,OAAA,GAAAH,OAAA;AAVA;AACA;AACA;;AAKA;AACA;AACA;;AAEA,MAAMI,qBAAqB,GAAGA,CAAA,KAAM;EACnC,MAAM;IAAEC;EAAO,CAAC,GAAG,IAAAC,sBAAc,GAAE;EACnC,MAAMC,UAAU,GAAG,IAAAC,qBAAa,GAAE;EAElC,MAAM;IAAEC,cAAc;IAAEC;EAAe,CAAC,GAAG,IAAAC,eAAS,EAAIC,MAAM,IAAM;IACnE,OAAO;MACNH,cAAc,EAAEG,MAAM,CACrB,0BAA0B,CAC1B,CAACC,iBAAiB,EAAE;MACrBH,cAAc,EAAEE,MAAM,CACrB,0BAA0B,CAC1B,CAACE,iBAAiB;IACpB,CAAC;EACF,CAAC,CAAE;EAEH,IAAAC,kBAAS,EAAE,MAAM;IAChB;IACA,OAAO,MAAM;MACZ,IAAAC,eAAQ,EAAE,6CAA6C,EAAE;QACxDX,MAAM;QACNY,EAAE,EAAEP;MACL,CAAC,CAAE;IACJ,CAAC;EACF,CAAC,EAAE,EAAE,CAAE;EAEP,MAAM;IAAEQ;EAAO,CAAC,GAAG,IAAAC,iBAAW,EAAE,0BAA0B,CAAE;EAC5D,OACC,IAAApB,QAAA,CAAAqB,aAAA,EAAArB,QAAA,CAAAsB,QAAA,QACGZ,cAAc,EAAEa,MAAM,GAAG,CAAC,IAC3Bb,cAAc,CAACc,GAAG,CAAIC,MAAM,IAAM;IACjC,MAAMC,SAAS,GAAGlB,UAAU,CAAE,gBAAgB,CAAE;IAChD;MACC;MACA,IAAAR,QAAA,CAAAqB,aAAA,EAACK,SAAS,CAACC,OAAO;QACjBC,IAAI,EAAGT,MAAQ;QACfU,QAAQ,EAAGlB,cAAc,KAAKc,MAAM,CAACP,EAAI;QACzCY,GAAG,EAAGL,MAAM,CAACP,EAAI;QACjBA,EAAE,EAAGO,MAAM,CAACP,EAAI;QAChBa,UAAU,EAAGN,MAAM,CAACM;MAAY;IAC/B;EAEJ,CAAC,CAAE,CACF;AAEL,CAAC;AAAC,IAAAC,QAAA,GAEa3B,qBAAqB;AAAA4B,OAAA,CAAAC,OAAA,GAAAF,QAAA"}