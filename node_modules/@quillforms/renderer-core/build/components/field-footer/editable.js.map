{"version":3,"names":["_data","require","_fieldAction","_interopRequireDefault","_errorMessage","_fieldRender","_submitBtn","EditableBlockFooter","_ref","id","shakingErr","isValid","validationErr","useSelect","select","isValidField","getFieldValidationErr","next","isErrMsgVisible","showErrMsg","isLastField","__experimentalUseFieldRenderContext","_element","createElement","Fragment","length","default","message","clickHandler","_default","exports"],"sources":["@quillforms/renderer-core/src/components/field-footer/editable.tsx"],"sourcesContent":["/**\r\n * WordPress Dependencies\r\n */\r\nimport { useSelect } from '@wordpress/data';\r\n\r\n/**\r\n * Internal Dependencies\r\n */\r\nimport FieldAction from '../field-action';\r\nimport ErrMsg from '../error-message';\r\nimport { __experimentalUseFieldRenderContext } from '../field-render';\r\nimport SubmitBtn from '../submit-btn';\r\n\r\ninterface Props {\r\n\tid: string | undefined;\r\n\tshakingErr: string | null;\r\n}\r\nconst EditableBlockFooter: React.FC< Props > = ( { id, shakingErr } ) => {\r\n\tif ( ! id ) return null;\r\n\tconst { isValid, validationErr } = useSelect( ( select ) => {\r\n\t\treturn {\r\n\t\t\tisValid: select( 'quillForms/renderer-core' ).isValidField( id ),\r\n\t\t\tvalidationErr: select(\r\n\t\t\t\t'quillForms/renderer-core'\r\n\t\t\t).getFieldValidationErr( id ),\r\n\t\t};\r\n\t} );\r\n\tconst {\r\n\t\tnext,\r\n\t\tisErrMsgVisible,\r\n\t\tshowErrMsg,\r\n\t\tisLastField,\r\n\t} = __experimentalUseFieldRenderContext();\r\n\treturn (\r\n\t\t<>\r\n\t\t\t{ shakingErr ||\r\n\t\t\t( ! isValid && validationErr?.length > 0 && isErrMsgVisible ) ? (\r\n\t\t\t\t// @ts-expect-error\r\n\t\t\t\t<ErrMsg message={ shakingErr ? shakingErr : validationErr } />\r\n\t\t\t) : isLastField ? (\r\n\t\t\t\t<SubmitBtn />\r\n\t\t\t) : (\r\n\t\t\t\t// @ts-expect-error\r\n\t\t\t\t<FieldAction\r\n\t\t\t\t\tclickHandler={ () => {\r\n\t\t\t\t\t\tif ( validationErr && ! isValid ) {\r\n\t\t\t\t\t\t\tshowErrMsg( true );\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tnext();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} }\r\n\t\t\t\t/>\r\n\t\t\t) }\r\n\t\t</>\r\n\t);\r\n};\r\nexport default EditableBlockFooter;\r\n"],"mappings":";;;;;;;;AAGA,IAAAA,KAAA,GAAAC,OAAA;AAKA,IAAAC,YAAA,GAAAC,sBAAA,CAAAF,OAAA;AACA,IAAAG,aAAA,GAAAD,sBAAA,CAAAF,OAAA;AACA,IAAAI,YAAA,GAAAJ,OAAA;AACA,IAAAK,UAAA,GAAAH,sBAAA,CAAAF,OAAA;AAXA;AACA;AACA;;AAGA;AACA;AACA;;AAUA,MAAMM,mBAAsC,GAAGC,IAAA,IAA0B;EAAA,IAAxB;IAAEC,EAAE;IAAEC;EAAW,CAAC,GAAAF,IAAA;EAClE,IAAK,CAAEC,EAAE,EAAG,OAAO,IAAI;EACvB,MAAM;IAAEE,OAAO;IAAEC;EAAc,CAAC,GAAG,IAAAC,eAAS,EAAIC,MAAM,IAAM;IAC3D,OAAO;MACNH,OAAO,EAAEG,MAAM,CAAE,0BAA0B,CAAE,CAACC,YAAY,CAAEN,EAAE,CAAE;MAChEG,aAAa,EAAEE,MAAM,CACpB,0BAA0B,CAC1B,CAACE,qBAAqB,CAAEP,EAAE;IAC5B,CAAC;EACF,CAAC,CAAE;EACH,MAAM;IACLQ,IAAI;IACJC,eAAe;IACfC,UAAU;IACVC;EACD,CAAC,GAAG,IAAAC,gDAAmC,GAAE;EACzC,OACC,IAAAC,QAAA,CAAAC,aAAA,EAAAD,QAAA,CAAAE,QAAA,QACGd,UAAU,IACV,CAAEC,OAAO,IAAIC,aAAa,EAAEa,MAAM,GAAG,CAAC,IAAIP,eAAiB;EAC5D;EACA,IAAAI,QAAA,CAAAC,aAAA,EAACnB,aAAA,CAAAsB,OAAM;IAACC,OAAO,EAAGjB,UAAU,GAAGA,UAAU,GAAGE;EAAe,EAAG,GAC3DQ,WAAW,GACd,IAAAE,QAAA,CAAAC,aAAA,EAACjB,UAAA,CAAAoB,OAAS,OAAG;EAEb;EACA,IAAAJ,QAAA,CAAAC,aAAA,EAACrB,YAAA,CAAAwB,OAAW;IACXE,YAAY,EAAGA,CAAA,KAAM;MACpB,IAAKhB,aAAa,IAAI,CAAED,OAAO,EAAG;QACjCQ,UAAU,CAAE,IAAI,CAAE;MACnB,CAAC,MAAM;QACNF,IAAI,EAAE;MACP;IACD;EAAG,EAEJ,CACC;AAEL,CAAC;AAAC,IAAAY,QAAA,GACatB,mBAAmB;AAAAuB,OAAA,CAAAJ,OAAA,GAAAG,QAAA"}