{"version":3,"names":["_htmlReactParser","_interopRequireDefault","require","_mergeTag","HtmlParser","_ref","value","replace","_match","p1","p2","replaceAll","res","_element","createElement","Fragment","parse","domNode","name","modifier","type","attribs","default","className","_default","exports"],"sources":["@quillforms/renderer-core/src/components/html-parser/index.tsx"],"sourcesContent":["/**\r\n * WordPress Dependencies\r\n */\r\n// import { autop } from '@wordpress/autop';\r\n\r\n/**\r\n * External Dependencies\r\n */\r\nimport parse from 'html-react-parser';\r\n\r\n/**\r\n * Internal Dependencies\r\n */\r\nimport MergeTag from '../merge-tag';\r\n\r\ninterface Props {\r\n\tvalue: string | undefined;\r\n}\r\nconst HtmlParser: React.FC< Props > = ( { value } ) => {\r\n\tif ( ! value ) return null;\r\n\tvalue = value.replace(\r\n\t\t/{{([a-zA-Z0-9-_]+):([a-zA-Z0-9-_]+)}}/g,\r\n\t\t( _match, p1, p2 ) => {\r\n\t\t\treturn `<mergetag type='${ p1 }' modifier='${ p2 }'></mergetag>`;\r\n\t\t}\r\n\t);\r\n\r\n\tvalue = '<p>' + value.replaceAll( '\\n\\n', '<br />' ) + '</p>';\r\n\tconst res = (\r\n\t\t<>\r\n\t\t\t{ parse( value, {\r\n\t\t\t\treplace: ( domNode ): void | JSX.Element => {\r\n\t\t\t\t\tif (\r\n\t\t\t\t\t\t// @ts-expect-error\r\n\t\t\t\t\t\tdomNode?.name === 'mergetag'\r\n\t\t\t\t\t) {\r\n\t\t\t\t\t\t// @ts-expect-error\r\n\t\t\t\t\t\tconst { modifier, type } = domNode.attribs;\r\n\t\t\t\t\t\treturn <MergeTag type={ type } modifier={ modifier } />;\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t} ) }\r\n\t\t</>\r\n\t);\r\n\treturn <div className=\"renderer-core-html-parser\">{ res } </div>;\r\n};\r\nexport default HtmlParser;\r\n"],"mappings":";;;;;;;;AAQA,IAAAA,gBAAA,GAAAC,sBAAA,CAAAC,OAAA;AAKA,IAAAC,SAAA,GAAAF,sBAAA,CAAAC,OAAA;AAbA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAGA;AACA;AACA;;AAMA,MAAME,UAA6B,GAAGC,IAAA,IAAiB;EAAA,IAAf;IAAEC;EAAM,CAAC,GAAAD,IAAA;EAChD,IAAK,CAAEC,KAAK,EAAG,OAAO,IAAI;EAC1BA,KAAK,GAAGA,KAAK,CAACC,OAAO,CACpB,wCAAwC,EACxC,CAAEC,MAAM,EAAEC,EAAE,EAAEC,EAAE,KAAM;IACrB,OAAQ,mBAAmBD,EAAI,eAAeC,EAAI,eAAc;EACjE,CAAC,CACD;EAEDJ,KAAK,GAAG,KAAK,GAAGA,KAAK,CAACK,UAAU,CAAE,MAAM,EAAE,QAAQ,CAAE,GAAG,MAAM;EAC7D,MAAMC,GAAG,GACR,IAAAC,QAAA,CAAAC,aAAA,EAAAD,QAAA,CAAAE,QAAA,QACG,IAAAC,wBAAK,EAAEV,KAAK,EAAE;IACfC,OAAO,EAAIU,OAAO,IAA0B;MAC3C;MACC;MACAA,OAAO,EAAEC,IAAI,KAAK,UAAU,EAC3B;QACD;QACA,MAAM;UAAEC,QAAQ;UAAEC;QAAK,CAAC,GAAGH,OAAO,CAACI,OAAO;QAC1C,OAAO,IAAAR,QAAA,CAAAC,aAAA,EAACX,SAAA,CAAAmB,OAAQ;UAACF,IAAI,EAAGA,IAAM;UAACD,QAAQ,EAAGA;QAAU,EAAG;MACxD;IACD;EACD,CAAC,CAAE,CAEJ;EACD,OAAO,IAAAN,QAAA,CAAAC,aAAA;IAAKS,SAAS,EAAC;EAA2B,GAAGX,GAAG,EAAE,GAAC,CAAM;AACjE,CAAC;AAAC,IAAAY,QAAA,GACapB,UAAU;AAAAqB,OAAA,CAAAH,OAAA,GAAAE,QAAA"}