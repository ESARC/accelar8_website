{"version":3,"names":["_element","require","_paymentGateways","_radioControl","_interopRequireDefault","_data","_useGeneralTheme","_emotion","_lodash","Methods","_ref","_urlParams$get","_data$payments$labels","data","setPaymentData","completeForm","useDispatch","generalTheme","useGeneralTheme","gateways","getPaymentGatewayModules","methodsKeys","Object","keys","payments","methods","options","map","key","gateway","method","split","label","customer","text","value","urlParams","URLSearchParams","window","location","search","defaultMethod","get","includes","_urlParams$get2","selected","setSelected","useState","CustomerRender","render","createElement","className","Fragment","size","css","questionsColor","labels","select_payment_method","default","id","onChange","slug","onComplete","_default","exports"],"sources":["@quillforms/renderer-core/src/components/payment-modal/methods/index.tsx"],"sourcesContent":["/**\r\n * QuillForms Dependencies\r\n */\r\nimport { getPaymentGatewayModules } from '@quillforms/payment-gateways';\r\n\r\n/**\r\n * WordPress Dependencies\r\n */\r\nimport RadioControl from './radio-control';\r\nimport { useState } from '@wordpress/element';\r\nimport { useDispatch } from '@wordpress/data';\r\nimport useGeneralTheme from '../../../hooks/use-general-theme';\r\n\r\n/**\r\n * External Dependencies\r\n */\r\nimport { css } from 'emotion';\r\nimport { size } from 'lodash';\r\n\r\ninterface Props {\r\n\tdata: any;\r\n}\r\n\r\nconst Methods: React.FC< Props > = ( { data } ) => {\r\n\tconst { setPaymentData, completeForm } = useDispatch(\r\n\t\t'quillForms/renderer-core'\r\n\t);\r\n\tconst generalTheme = useGeneralTheme();\r\n\r\n\tconst gateways = getPaymentGatewayModules();\r\n\tconst methodsKeys = Object.keys( data.payments.methods );\r\n\r\n\tconst options = methodsKeys.map( ( key ) => {\r\n\t\tconst [ gateway, method ] = key.split( ':' );\r\n\t\treturn {\r\n\t\t\tlabel: gateways[ gateway ].methods[ method ].customer.label.text,\r\n\t\t\tvalue: key,\r\n\t\t};\r\n\t} );\r\n\r\n\tconst urlParams = new URLSearchParams( window.location.search );\r\n\tlet defaultMethod = methodsKeys[ 0 ];\r\n\tif (\r\n\t\turlParams.get( 'step' ) === 'payment' &&\r\n\t\tmethodsKeys.includes( urlParams.get( 'method' ) ?? '' )\r\n\t) {\r\n\t\tdefaultMethod = urlParams.get( 'method' ) ?? '';\r\n\t}\r\n\r\n\tconst [ selected, setSelected ] = useState( defaultMethod );\r\n\tconst [ gateway, method ] = selected.split( ':' );\r\n\r\n\tconst CustomerRender =\r\n\t\tgateways[ gateway ].methods[ method ].customer.render;\r\n\r\n\treturn (\r\n\t\t<div className=\"renderer-core-payment-modal-methods\">\r\n\t\t\t<>\r\n\t\t\t\t{ size( methodsKeys ) > 1 && (\r\n\t\t\t\t\t<>\r\n\t\t\t\t\t\t<p\r\n\t\t\t\t\t\t\tclassName={ css`\r\n\t\t\t\t\t\t\t\tcolor: ${ generalTheme.questionsColor };\r\n\t\t\t\t\t\t\t\tfont-size: 20px;\r\n\t\t\t\t\t\t\t` }\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{ data.payments.labels?.select_payment_method ??\r\n\t\t\t\t\t\t\t\t'Select a payment method' }\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t<div className=\"renderer-components-radio-control__options-group\">\r\n\t\t\t\t\t\t\t<RadioControl\r\n\t\t\t\t\t\t\t\tid=\"payment-methods\"\r\n\t\t\t\t\t\t\t\tselected={ selected }\r\n\t\t\t\t\t\t\t\toptions={ options }\r\n\t\t\t\t\t\t\t\tonChange={ setSelected }\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</>\r\n\t\t\t\t) }\r\n\t\t\t</>\r\n\t\t\t<CustomerRender\r\n\t\t\t\tslug={ selected }\r\n\t\t\t\tdata={ data }\r\n\t\t\t\tonComplete={ () => {\r\n\t\t\t\t\tcompleteForm();\r\n\t\t\t\t\tsetPaymentData( null );\r\n\t\t\t\t} }\r\n\t\t\t/>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default Methods;\r\n"],"mappings":"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"}