{"version":3,"names":["_data","require","_lodash","_constants","initialState","walkPath","welcomeScreens","thankyouScreens","currentBlockId","undefined","nextBlockId","lastActiveBlockId","prevBlockId","canSwipeNext","canSwipePrev","isCurrentBlockSafeToSwipe","isAnimating","isThankyouScreenActive","isWelcomeScreenActive","isReviewing","swiper","state","arguments","length","action","type","SET_SWIPER_STATE","newSwiperState","swiperState","validBlocksStructure","forEach","blockCat","newBlockCat","Array","isArray","item","id","size","attributes","hasOwnProperty","name","some","block","newWalkPath","newWelcomeScreens","newThanksScreens","checkCorrectIds","prop","allBlocks","correctBooleans","newCurrentBlockId","isFirstField","isLastField","screen","GO_NEXT","isThereNextField","filter","isReallyLastField","currentFieldIndex","findIndex","field","$newCurrentBlockId","newCurrentFieldIndex","$field","GO_PREV","SET_IS_CURRENT_BLOCK_SAFE_TO_SWIPE","val","GO_TO_BLOCK","forceUpdateState","isTheBlockWelcomeScreenBlock","isTheBlockThankyouScreenBlock","fieldIndex","groupBlocks","parentId","groupBlock","innerBlocks","childIndex","childBlock","COMPLETE_FORM","find","isFocused","SET_IS_FOCUSED","footerDisplay","SET_FOOTER_DISPLAY","submit","isSubmitting","submissionErr","paymentData","SET_IS_REVIEWING","SET_IS_SUBMITTING","SET_SUBMISSION_ERR","SET_PAYMENT_DATA","data","answers","INSERT_EMPTY_FIELD_ANSWER","blockName","value","isValid","isAnswered","isPending","pendingMsg","validationErr","SET_FIELD_ANSWER","RESET_ANSWERS","SET_IS_FIELD_VALID","SET_IS_FIELD_ANSWERED","SET_IS_FIELD_PENDING","SET_FIELD_PENDING_MSG","SET_FIELD_VALIDATION_ERR","RendererCoreReducer","combineReducers","_default","exports","default"],"sources":["@quillforms/renderer-core/src/store/reducer.ts"],"sourcesContent":["/* eslint-disable no-nested-ternary */\r\n/**\r\n * QuillForms Dependencies\r\n */\r\nimport { FormBlock } from '@quillforms/types';\r\n\r\n/**\r\n * WordPress Dependencies\r\n */\r\nimport { combineReducers } from '@wordpress/data';\r\nimport { forEach, some, size } from 'lodash';\r\n\r\n/**\r\n * External dependencies\r\n */\r\nimport type { Reducer } from 'redux';\r\n\r\n/**\r\n * Internal Dependencies\r\n */\r\nimport {\r\n\tGO_NEXT,\r\n\tGO_PREV,\r\n\tCOMPLETE_FORM,\r\n\tSET_SWIPER_STATE,\r\n\tGO_TO_BLOCK,\r\n\tSET_SUBMISSION_ERR,\r\n\tSET_FIELD_ANSWER,\r\n\tINSERT_EMPTY_FIELD_ANSWER,\r\n\tSET_IS_FIELD_VALID,\r\n\tSET_IS_FIELD_ANSWERED,\r\n\tSET_IS_FIELD_PENDING,\r\n\tSET_FIELD_PENDING_MSG,\r\n\tSET_FIELD_VALIDATION_ERR,\r\n\tRESET_ANSWERS,\r\n\tSET_IS_REVIEWING,\r\n\tSET_IS_SUBMITTING,\r\n\tSET_PAYMENT_DATA,\r\n\tSET_IS_FOCUSED,\r\n\tSET_FOOTER_DISPLAY,\r\n\tSET_IS_CURRENT_BLOCK_SAFE_TO_SWIPE,\r\n} from './constants';\r\nimport type {\r\n\tSwiperState,\r\n\tSwiperActionTypes,\r\n\tRendererAnswersActionTypes,\r\n\tRendererAnswersState,\r\n\tScreen,\r\n\tSubmissionState,\r\n\tSubmitActionTypes,\r\n} from './types';\r\n\r\nconst initialState: SwiperState = {\r\n\twalkPath: [],\r\n\twelcomeScreens: [],\r\n\tthankyouScreens: [],\r\n\tcurrentBlockId: undefined,\r\n\tnextBlockId: undefined,\r\n\tlastActiveBlockId: undefined,\r\n\tprevBlockId: undefined,\r\n\tcanSwipeNext: false,\r\n\tcanSwipePrev: false,\r\n\tisCurrentBlockSafeToSwipe: true,\r\n\tisAnimating: true,\r\n\tisThankyouScreenActive: false,\r\n\tisWelcomeScreenActive: false,\r\n\tisReviewing: false,\r\n};\r\n\r\nconst swiper: Reducer< SwiperState, SwiperActionTypes > = (\r\n\tstate = initialState,\r\n\taction\r\n) => {\r\n\tconst {\r\n\t\twalkPath,\r\n\t\tisAnimating,\r\n\t\tcurrentBlockId,\r\n\t\tnextBlockId,\r\n\t\tprevBlockId,\r\n\t\tthankyouScreens,\r\n\t} = state;\r\n\tswitch ( action.type ) {\r\n\t\tcase SET_SWIPER_STATE: {\r\n\t\t\tconst newSwiperState = action.swiperState;\r\n\t\t\tlet validBlocksStructure = true;\r\n\t\t\tforEach(\r\n\t\t\t\t[ 'walkPath', 'welcomeScreens', 'thankyouScreens' ],\r\n\t\t\t\t( blockCat ) => {\r\n\t\t\t\t\tif ( newSwiperState[ blockCat ] ) {\r\n\t\t\t\t\t\tconst newBlockCat = newSwiperState[ blockCat ];\r\n\t\t\t\t\t\tif ( ! Array.isArray( newBlockCat ) ) {\r\n\t\t\t\t\t\t\tvalidBlocksStructure = false;\r\n\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t// check if  structure isn't correct\r\n\t\t\t\t\t\tif ( newBlockCat.length > 0 ) {\r\n\t\t\t\t\t\t\tforEach( newBlockCat, ( item ) => {\r\n\t\t\t\t\t\t\t\tif (\r\n\t\t\t\t\t\t\t\t\ttypeof item === 'object' &&\r\n\t\t\t\t\t\t\t\t\titem != null &&\r\n\t\t\t\t\t\t\t\t\titem.id &&\r\n\t\t\t\t\t\t\t\t\ttypeof item.id === 'string'\r\n\t\t\t\t\t\t\t\t) {\r\n\t\t\t\t\t\t\t\t\tif (\r\n\t\t\t\t\t\t\t\t\t\tsize( item.attributes ) > 0 &&\r\n\t\t\t\t\t\t\t\t\t\ttypeof item.attributes !== 'object'\r\n\t\t\t\t\t\t\t\t\t) {\r\n\t\t\t\t\t\t\t\t\t\tvalidBlocksStructure = false;\r\n\t\t\t\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\t\tif ( blockCat === 'walkPath' ) {\r\n\t\t\t\t\t\t\t\t\t\t// Check if the block has a name or it is a thank you screen or default thank you screen\r\n\t\t\t\t\t\t\t\t\t\tif (\r\n\t\t\t\t\t\t\t\t\t\t\t( ! item.hasOwnProperty( 'name' ) ||\r\n\t\t\t\t\t\t\t\t\t\t\t\ttypeof item.name !==\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t'string' ) &&\r\n\t\t\t\t\t\t\t\t\t\t\t! some(\r\n\t\t\t\t\t\t\t\t\t\t\t\tnewSwiperState.thankyouScreens,\r\n\t\t\t\t\t\t\t\t\t\t\t\t( block ) =>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tblock.id === item.id\r\n\t\t\t\t\t\t\t\t\t\t\t) &&\r\n\t\t\t\t\t\t\t\t\t\t\titem.id !==\r\n\t\t\t\t\t\t\t\t\t\t\t\t'default_thankyou_screen'\r\n\t\t\t\t\t\t\t\t\t\t) {\r\n\t\t\t\t\t\t\t\t\t\t\tvalidBlocksStructure = false;\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\tvalidBlocksStructure = false;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t} );\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t);\r\n\r\n\t\t\tif ( ! validBlocksStructure ) {\r\n\t\t\t\treturn state;\r\n\t\t\t}\r\n\r\n\t\t\tconst newWalkPath = newSwiperState.walkPath\r\n\t\t\t\t? newSwiperState.walkPath\r\n\t\t\t\t: walkPath;\r\n\r\n\t\t\tconst newWelcomeScreens = newSwiperState.welcomeScreens\r\n\t\t\t\t? newSwiperState.welcomeScreens\r\n\t\t\t\t: state.welcomeScreens;\r\n\r\n\t\t\tconst newThanksScreens = newSwiperState.thankyouScreens\r\n\t\t\t\t? newSwiperState.thankyouScreens\r\n\t\t\t\t: state.thankyouScreens;\r\n\t\t\t// If  new current block id or new next block id or new prev block id or last active block id aren't\r\n\t\t\t// in the new walkPath\r\n\t\t\tlet checkCorrectIds = true;\r\n\t\t\t[\r\n\t\t\t\t'currentBlockId',\r\n\t\t\t\t'nextBlockId',\r\n\t\t\t\t'prevBlockId',\r\n\t\t\t\t'lastActiveBlockId',\r\n\t\t\t].forEach( ( prop ) => {\r\n\t\t\t\tconst allBlocks: ( Screen | FormBlock )[] = [\r\n\t\t\t\t\t...newWalkPath,\r\n\t\t\t\t\t...newWelcomeScreens,\r\n\t\t\t\t\t...newThanksScreens,\r\n\t\t\t\t];\r\n\t\t\t\tif (\r\n\t\t\t\t\tnewSwiperState[ prop ] &&\r\n\t\t\t\t\t! some(\r\n\t\t\t\t\t\tallBlocks,\r\n\t\t\t\t\t\t( block ) =>\r\n\t\t\t\t\t\t\tblock.id === newSwiperState[ prop ] ||\r\n\t\t\t\t\t\t\tnewSwiperState[ prop ] === 'default_thankyou_screen'\r\n\t\t\t\t\t)\r\n\t\t\t\t) {\r\n\t\t\t\t\tcheckCorrectIds = false;\r\n\t\t\t\t}\r\n\t\t\t} );\r\n\r\n\t\t\tif ( ! checkCorrectIds ) return state;\r\n\r\n\t\t\tlet correctBooleans = true;\r\n\r\n\t\t\t// if typeof  new boolean props isn't boolean.\r\n\t\t\t[\r\n\t\t\t\t'isAnimating',\r\n\t\t\t\t'canSwipeNext',\r\n\t\t\t\t'canSwipePrev',\r\n\t\t\t\t'isThankyouScreenActive',\r\n\t\t\t\t'isWelcomeScreenActive',\r\n\t\t\t].forEach( ( prop ) => {\r\n\t\t\t\tif (\r\n\t\t\t\t\tnewSwiperState[ prop ] &&\r\n\t\t\t\t\ttypeof newSwiperState[ prop ] !== 'boolean'\r\n\t\t\t\t) {\r\n\t\t\t\t\tcorrectBooleans = false;\r\n\t\t\t\t}\r\n\t\t\t} );\r\n\r\n\t\t\tif ( ! correctBooleans ) {\r\n\t\t\t\treturn state;\r\n\t\t\t}\r\n\r\n\t\t\tconst newCurrentBlockId = newSwiperState.currentBlockId\r\n\t\t\t\t? newSwiperState.currentBlockId\r\n\t\t\t\t: currentBlockId;\r\n\t\t\tconst isFirstField =\r\n\t\t\t\tnewWalkPath?.length > 0 &&\r\n\t\t\t\tnewWalkPath[ 0 ].id == newCurrentBlockId;\r\n\r\n\t\t\tconst isLastField =\r\n\t\t\t\tnewWalkPath?.length > 0 &&\r\n\t\t\t\tnewWalkPath[ newWalkPath.length - 1 ].id == newCurrentBlockId;\r\n\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\t...newSwiperState,\r\n\t\t\t\tcanSwipeNext:\r\n\t\t\t\t\tnewSwiperState.canSwipeNext === undefined\r\n\t\t\t\t\t\t? state.canSwipeNext\r\n\t\t\t\t\t\t: newSwiperState.canSwipeNext === true && isLastField\r\n\t\t\t\t\t\t? false\r\n\t\t\t\t\t\t: newSwiperState.canSwipeNext,\r\n\t\t\t\tcanSwipePrev:\r\n\t\t\t\t\tnewSwiperState.canSwipePrev === undefined\r\n\t\t\t\t\t\t? state.canSwipePrev\r\n\t\t\t\t\t\t: newSwiperState.canSwipePrev === true && isFirstField\r\n\t\t\t\t\t\t? false\r\n\t\t\t\t\t\t: newSwiperState.canSwipePrev,\r\n\t\t\t\tisWelcomeScreenActive:\r\n\t\t\t\t\tnewWelcomeScreens.length &&\r\n\t\t\t\t\tsome(\r\n\t\t\t\t\t\tnewWelcomeScreens,\r\n\t\t\t\t\t\t( screen ) => screen.id === newCurrentBlockId\r\n\t\t\t\t\t)\r\n\t\t\t\t\t\t? true\r\n\t\t\t\t\t\t: false,\r\n\t\t\t\tisThankyouScreenActive:\r\n\t\t\t\t\tsome(\r\n\t\t\t\t\t\tnewThanksScreens,\r\n\t\t\t\t\t\t( screen ) => screen.id === newCurrentBlockId\r\n\t\t\t\t\t) || 'default_thankyou_screen' === newCurrentBlockId\r\n\t\t\t\t\t\t? true\r\n\t\t\t\t\t\t: false,\r\n\t\t\t};\r\n\t\t}\r\n\r\n\t\tcase GO_NEXT: {\r\n\t\t\tif ( isAnimating ) return state;\r\n\t\t\tconst isThereNextField =\r\n\t\t\t\twalkPath.filter(\r\n\t\t\t\t\t( block ) =>\r\n\t\t\t\t\t\tblock.name !== 'welcome-screen' &&\r\n\t\t\t\t\t\tblock.name !== 'thankyou-screen' &&\r\n\t\t\t\t\t\tblock.id === nextBlockId\r\n\t\t\t\t).length > 0;\r\n\t\t\tconst isReallyLastField =\r\n\t\t\t\twalkPath?.length > 0 &&\r\n\t\t\t\twalkPath[ walkPath.length - 1 ].id === currentBlockId &&\r\n\t\t\t\t! isThereNextField;\r\n\t\t\tif ( isReallyLastField ) return state;\r\n\t\t\tconst currentFieldIndex = walkPath.findIndex(\r\n\t\t\t\t( field ) => field.id === currentBlockId\r\n\t\t\t);\r\n\t\t\tlet $newCurrentBlockId = nextBlockId;\r\n\t\t\t// To check if the new current block is within the path, if it isn't, navigate to submission screen.\r\n\t\t\t// This should apply only when the next block is before the current block.\r\n\t\t\tconst newCurrentFieldIndex = walkPath.findIndex(\r\n\t\t\t\t( $field ) => $field.id === $newCurrentBlockId\r\n\t\t\t);\r\n\r\n\t\t\tif (\r\n\t\t\t\tnewCurrentFieldIndex === -1 ||\r\n\t\t\t\tnewCurrentFieldIndex === currentFieldIndex\r\n\t\t\t) {\r\n\t\t\t\t$newCurrentBlockId = undefined;\r\n\t\t\t}\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tcanSwipeNext: ! $newCurrentBlockId ? false : true,\r\n\t\t\t\tcanSwipePrev: true,\r\n\t\t\t\tcurrentBlockId: $newCurrentBlockId,\r\n\t\t\t\tprevBlockId: $newCurrentBlockId\r\n\t\t\t\t\t? walkPath[ newCurrentFieldIndex - 1 ]\r\n\t\t\t\t\t\t? walkPath[ newCurrentFieldIndex - 1 ].id\r\n\t\t\t\t\t\t: undefined\r\n\t\t\t\t\t: walkPath[ walkPath.length - 1 ].id,\r\n\t\t\t\tlastActiveBlockId: currentBlockId,\r\n\t\t\t\tnextBlockId:\r\n\t\t\t\t\tnewCurrentFieldIndex !== -1\r\n\t\t\t\t\t\t? walkPath[ newCurrentFieldIndex + 1 ]\r\n\t\t\t\t\t\t\t? walkPath[ newCurrentFieldIndex + 1 ].id\r\n\t\t\t\t\t\t\t: undefined\r\n\t\t\t\t\t\t: nextBlockId,\r\n\t\t\t\tisAnimating: true,\r\n\t\t\t\tisThankyouScreenActive: false,\r\n\t\t\t};\r\n\t\t}\r\n\r\n\t\tcase GO_PREV: {\r\n\t\t\tconst isFirstField =\r\n\t\t\t\twalkPath?.length > 0 && walkPath[ 0 ].id === currentBlockId;\r\n\r\n\t\t\tif ( isAnimating || isFirstField ) return state;\r\n\t\t\tconst currentFieldIndex = walkPath.findIndex(\r\n\t\t\t\t( field ) => field.id === currentBlockId\r\n\t\t\t);\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tcanSwipePrev: walkPath[ currentFieldIndex - 2 ] ? true : false,\r\n\t\t\t\tcanSwipeNext: true,\r\n\t\t\t\tcurrentBlockId: prevBlockId,\r\n\t\t\t\tlastActiveBlockId: currentBlockId,\r\n\t\t\t\tnextBlockId: currentBlockId,\r\n\t\t\t\tprevBlockId: walkPath[ currentFieldIndex - 2 ]?.id\r\n\t\t\t\t\t? walkPath[ currentFieldIndex - 2 ].id\r\n\t\t\t\t\t: undefined,\r\n\t\t\t\tisAnimating: true,\r\n\t\t\t\tisThankyouScreenActive: false,\r\n\t\t\t};\r\n\t\t}\r\n\r\n\t\tcase SET_IS_CURRENT_BLOCK_SAFE_TO_SWIPE: {\r\n\t\t\tconst { val } = action;\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tisCurrentBlockSafeToSwipe: val,\r\n\t\t\t};\r\n\t\t}\r\n\t\tcase GO_TO_BLOCK: {\r\n\t\t\tlet { id, forceUpdateState } = action;\r\n\t\t\tif ( currentBlockId === id && ! forceUpdateState ) return state;\r\n\t\t\tconst isTheBlockWelcomeScreenBlock = state.welcomeScreens.some(\r\n\t\t\t\t( screen ) => screen.id === id\r\n\t\t\t);\r\n\t\t\tconst isTheBlockThankyouScreenBlock = state.thankyouScreens.some(\r\n\t\t\t\t( screen ) => screen.id === id\r\n\t\t\t);\r\n\r\n\t\t\tif (\r\n\t\t\t\tisTheBlockThankyouScreenBlock ||\r\n\t\t\t\tisTheBlockWelcomeScreenBlock\r\n\t\t\t) {\r\n\t\t\t\treturn {\r\n\t\t\t\t\t...state,\r\n\t\t\t\t\tcurrentBlockId: id,\r\n\t\t\t\t\tisAnimating: true,\r\n\t\t\t\t\tcanSwipeNext: false,\r\n\t\t\t\t\tcanSwipePrev: false,\r\n\t\t\t\t\tnextBlockId: undefined,\r\n\t\t\t\t\tprevBlockId: undefined,\r\n\t\t\t\t\tlastActiveBlockId: currentBlockId,\r\n\t\t\t\t\tisWelcomeScreenActive: isTheBlockWelcomeScreenBlock,\r\n\t\t\t\t\tisThankyouScreenActive: isTheBlockThankyouScreenBlock,\r\n\t\t\t\t};\r\n\t\t\t}\r\n\t\t\tlet fieldIndex = state.walkPath.findIndex(\r\n\t\t\t\t( field ) => field.id === id\r\n\t\t\t);\r\n\r\n\t\t\t// If invalid parent block, try to search for inner blocks.\r\n\t\t\tif (\r\n\t\t\t\tfieldIndex === -1 &&\r\n\t\t\t\t! isTheBlockWelcomeScreenBlock &&\r\n\t\t\t\t! isTheBlockThankyouScreenBlock\r\n\t\t\t) {\r\n\t\t\t\tconst groupBlocks = state.walkPath.filter(\r\n\t\t\t\t\t( field ) => field.name === 'group'\r\n\t\t\t\t);\r\n\r\n\t\t\t\tlet parentId;\r\n\t\t\t\tforEach( groupBlocks, ( groupBlock ) => {\r\n\t\t\t\t\tif ( groupBlock.innerBlocks ) {\r\n\t\t\t\t\t\tconst childIndex = groupBlock.innerBlocks.findIndex(\r\n\t\t\t\t\t\t\t( childBlock ) => childBlock.id === id\r\n\t\t\t\t\t\t);\r\n\r\n\t\t\t\t\t\tif ( childIndex !== -1 ) {\r\n\t\t\t\t\t\t\tparentId = groupBlock.id;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t} );\r\n\r\n\t\t\t\tif ( ! parentId ) {\r\n\t\t\t\t\treturn state;\r\n\t\t\t\t}\r\n\t\t\t\tid = parentId;\r\n\t\t\t\tfieldIndex = state.walkPath.findIndex(\r\n\t\t\t\t\t( field ) => field.id === id\r\n\t\t\t\t);\r\n\t\t\t}\r\n\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tcurrentBlockId: id,\r\n\t\t\t\tisAnimating: true,\r\n\t\t\t\tcanSwipeNext: walkPath[ fieldIndex + 1 ] ? true : false,\r\n\t\t\t\tcanSwipePrev: walkPath[ fieldIndex - 1 ] ? true : false,\r\n\t\t\t\tnextBlockId: walkPath[ fieldIndex + 1 ]\r\n\t\t\t\t\t? walkPath[ fieldIndex + 1 ].id\r\n\t\t\t\t\t: undefined,\r\n\t\t\t\tprevBlockId: walkPath[ fieldIndex - 1 ]\r\n\t\t\t\t\t? walkPath[ fieldIndex - 1 ].id\r\n\t\t\t\t\t: undefined,\r\n\t\t\t\tlastActiveBlockId: currentBlockId,\r\n\t\t\t\tisWelcomeScreenActive: false,\r\n\t\t\t\tisThankyouScreenActive: false,\r\n\t\t\t};\r\n\t\t}\r\n\t\tcase COMPLETE_FORM: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tcanSwipeNext: false,\r\n\t\t\t\tcanSwipePrev: false,\r\n\t\t\t\tisThankyouScreenActive: true,\r\n\t\t\t\tcurrentBlockId: nextBlockId && state.thankyouScreens.find(screen => screen.id === nextBlockId)\r\n\t\t\t\t\t? nextBlockId\r\n\t\t\t\t\t: thankyouScreens[ 0 ]?.id\r\n\t\t\t\t\t? thankyouScreens[ 0 ].id\r\n\t\t\t\t\t: 'default_thankyou_screen',\r\n\t\t\t\tprevBlockId: undefined,\r\n\t\t\t\tnextBlockId: undefined,\r\n\t\t\t\tlastActiveBlockId: undefined,\r\n\t\t\t\tisReviewing: false,\r\n\t\t\t};\r\n\t\t}\r\n\t}\r\n\treturn state;\r\n};\r\n\r\nconst isFocused: Reducer = ( state = false, action ) => {\r\n\tswitch ( action.type ) {\r\n\t\tcase SET_IS_FOCUSED: {\r\n\t\t\tif ( typeof action.val !== 'boolean' ) {\r\n\t\t\t\treturn state;\r\n\t\t\t}\r\n\r\n\t\t\treturn action.val;\r\n\t\t}\r\n\t}\r\n\r\n\treturn state;\r\n};\r\n\r\nconst footerDisplay: Reducer = ( state = true, action ) => {\r\n\tswitch ( action.type ) {\r\n\t\tcase SET_FOOTER_DISPLAY: {\r\n\t\t\tif ( typeof action.val !== 'boolean' ) {\r\n\t\t\t\treturn state;\r\n\t\t\t}\r\n\r\n\t\t\treturn action.val;\r\n\t\t}\r\n\t}\r\n\r\n\treturn state;\r\n};\r\n\r\nconst submit: Reducer< SubmissionState, SubmitActionTypes > = (\r\n\tstate = {\r\n\t\tisSubmitting: false,\r\n\t\tisReviewing: false,\r\n\t\tsubmissionErr: '',\r\n\t\tpaymentData: null,\r\n\t},\r\n\taction\r\n) => {\r\n\tswitch ( action.type ) {\r\n\t\tcase COMPLETE_FORM: {\r\n\t\t\treturn {\r\n\t\t\t\tisSubmitting: false,\r\n\t\t\t\tisReviewing: false,\r\n\t\t\t\tsubmissionErr: '',\r\n\t\t\t\tpaymentData: null,\r\n\t\t\t};\r\n\t\t}\r\n\r\n\t\tcase SET_IS_REVIEWING: {\r\n\t\t\tconst { val } = action;\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tisReviewing: val,\r\n\t\t\t};\r\n\t\t}\r\n\r\n\t\tcase SET_IS_SUBMITTING: {\r\n\t\t\tconst { val } = action;\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tisSubmitting: val,\r\n\t\t\t\tsubmissionErr: '',\r\n\t\t\t};\r\n\t\t}\r\n\r\n\t\tcase SET_SUBMISSION_ERR: {\r\n\t\t\t// Make sure this action is called while the form is submitting already, otherwhise, do nothing.\r\n\t\t\tif ( ! state.isSubmitting ) return state;\r\n\t\t\tconst { val } = action;\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tisSubmitting: false,\r\n\t\t\t\tsubmissionErr: val,\r\n\t\t\t};\r\n\t\t}\r\n\r\n\t\tcase SET_PAYMENT_DATA: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tpaymentData: action.data,\r\n\t\t\t};\r\n\t\t}\r\n\t}\r\n\r\n\treturn state;\r\n};\r\n\r\nconst answers: Reducer< RendererAnswersState, RendererAnswersActionTypes > = (\r\n\tstate = {},\r\n\taction\r\n) => {\r\n\tswitch ( action.type ) {\r\n\t\t// Insert Empty Field Answer\r\n\t\tcase INSERT_EMPTY_FIELD_ANSWER: {\r\n\t\t\tconst { id, blockName } = action;\r\n\t\t\tconst answers = { ...state };\r\n\r\n\t\t\tif ( ! answers[ id ] ) {\r\n\t\t\t\tanswers[ id ] = {\r\n\t\t\t\t\tvalue: undefined,\r\n\t\t\t\t\tisValid: true,\r\n\t\t\t\t\tisAnswered: false,\r\n\t\t\t\t\tisPending: false,\r\n\t\t\t\t\tpendingMsg: undefined,\r\n\t\t\t\t\tvalidationErr: undefined,\r\n\t\t\t\t\tblockName,\r\n\t\t\t\t};\r\n\t\t\t}\r\n\t\t\treturn answers;\r\n\t\t}\r\n\r\n\t\t// SET FIELD ANSWER\r\n\t\tcase SET_FIELD_ANSWER: {\r\n\t\t\tconst { id, val } = action;\r\n\t\t\t// If the field id is incorrect or the value passed is the same value, return same state.\r\n\t\t\tif ( val === state[ id ]?.value ) {\r\n\t\t\t\treturn state;\r\n\t\t\t}\r\n\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\t[ id ]: {\r\n\t\t\t\t\t...state[ id ],\r\n\t\t\t\t\tvalue: val,\r\n\t\t\t\t},\r\n\t\t\t};\r\n\t\t}\r\n\r\n\t\tcase RESET_ANSWERS: {\r\n\t\t\treturn {};\r\n\t\t}\r\n\r\n\t\t// SET IS FIELD VALID\r\n\t\tcase SET_IS_FIELD_VALID: {\r\n\t\t\tconst { id, val } = action;\r\n\t\t\t// If the field id is incorrect or the value passed is the same value, return same state.\r\n\t\t\tif ( ! state[ id ] || val === state[ id ].isValid ) {\r\n\t\t\t\treturn state;\r\n\t\t\t}\r\n\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\t[ id ]: {\r\n\t\t\t\t\t...state[ id ],\r\n\t\t\t\t\tisValid: val,\r\n\t\t\t\t},\r\n\t\t\t};\r\n\t\t}\r\n\r\n\t\t// SET IS FIELD ANSWERED\r\n\t\tcase SET_IS_FIELD_ANSWERED: {\r\n\t\t\tconst { id, val } = action;\r\n\t\t\t// If the field id is incorrect or the value passed is the same value, return same state.\r\n\t\t\tif ( ! state[ id ] || val === state[ id ].isAnswered ) {\r\n\t\t\t\treturn state;\r\n\t\t\t}\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\t[ id ]: {\r\n\t\t\t\t\t...state[ id ],\r\n\t\t\t\t\tisAnswered: val,\r\n\t\t\t\t},\r\n\t\t\t};\r\n\t\t}\r\n\r\n\t\t// SET IS FIELD PENDING\r\n\t\tcase SET_IS_FIELD_PENDING: {\r\n\t\t\tconst { id, val } = action;\r\n\t\t\t// If the field id is incorrect or the value passed is the same value, return same state.\r\n\t\t\tif ( ! state[ id ] || val === state[ id ].isPending ) {\r\n\t\t\t\treturn state;\r\n\t\t\t}\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\t[ id ]: {\r\n\t\t\t\t\t...state[ id ],\r\n\t\t\t\t\tisPending: val,\r\n\t\t\t\t},\r\n\t\t\t};\r\n\t\t}\r\n\r\n\t\t// SET FIELD PENDING MSG\r\n\t\tcase SET_FIELD_PENDING_MSG: {\r\n\t\t\tconst { id, val } = action;\r\n\t\t\t// If the field id is incorrect or the value passed is the same value, return same state.\r\n\t\t\tif ( ! state[ id ] || val === state[ id ].pendingMsg ) {\r\n\t\t\t\treturn state;\r\n\t\t\t}\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\t[ id ]: {\r\n\t\t\t\t\t...state[ id ],\r\n\t\t\t\t\tpendingMsg: val,\r\n\t\t\t\t},\r\n\t\t\t};\r\n\t\t}\r\n\r\n\t\t// SET FIELD VALIDATION ERR\r\n\t\tcase SET_FIELD_VALIDATION_ERR: {\r\n\t\t\tconst { id, val } = action;\r\n\t\t\t// If the field id is incorrect or the value passed is the same value, return same state.\r\n\t\t\tif ( ! state[ id ] || val === state[ id ].validationErr ) {\r\n\t\t\t\treturn state;\r\n\t\t\t}\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\t[ id ]: {\r\n\t\t\t\t\t...state[ id ],\r\n\t\t\t\t\tvalidationErr: val,\r\n\t\t\t\t},\r\n\t\t\t};\r\n\t\t}\r\n\t}\r\n\treturn state;\r\n};\r\n\r\n// @ts-ignore\r\nconst RendererCoreReducer: Reducer<\r\n\t{\r\n\t\tanswers: RendererAnswersState;\r\n\t\tfooterDisplay: boolean;\r\n\t\tisFocused: boolean;\r\n\t\tsubmit: SubmissionState;\r\n\t\tswiper: SwiperState;\r\n\t},\r\n\tany\r\n> = combineReducers( {\r\n\tanswers,\r\n\tfooterDisplay,\r\n\tisFocused,\r\n\tsubmit,\r\n\tswiper,\r\n} );\r\nexport type State = ReturnType< typeof RendererCoreReducer >;\r\n\r\nexport default RendererCoreReducer;\r\n"],"mappings":";;;;;;AASA,IAAAA,KAAA,GAAAC,OAAA;AACA,IAAAC,OAAA,GAAAD,OAAA;AAUA,IAAAE,UAAA,GAAAF,OAAA;AApBA;AACA;AACA;AACA;;AAGA;AACA;AACA;;AASA;AACA;AACA;;AAiCA,MAAMG,YAAyB,GAAG;EACjCC,QAAQ,EAAE,EAAE;EACZC,cAAc,EAAE,EAAE;EAClBC,eAAe,EAAE,EAAE;EACnBC,cAAc,EAAEC,SAAS;EACzBC,WAAW,EAAED,SAAS;EACtBE,iBAAiB,EAAEF,SAAS;EAC5BG,WAAW,EAAEH,SAAS;EACtBI,YAAY,EAAE,KAAK;EACnBC,YAAY,EAAE,KAAK;EACnBC,yBAAyB,EAAE,IAAI;EAC/BC,WAAW,EAAE,IAAI;EACjBC,sBAAsB,EAAE,KAAK;EAC7BC,qBAAqB,EAAE,KAAK;EAC5BC,WAAW,EAAE;AACd,CAAC;AAED,MAAMC,MAAiD,GAAG,SAAAA,CAAA,EAGrD;EAAA,IAFJC,KAAK,GAAAC,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAb,SAAA,GAAAa,SAAA,MAAGlB,YAAY;EAAA,IACpBoB,MAAM,GAAAF,SAAA,CAAAC,MAAA,OAAAD,SAAA,MAAAb,SAAA;EAEN,MAAM;IACLJ,QAAQ;IACRW,WAAW;IACXR,cAAc;IACdE,WAAW;IACXE,WAAW;IACXL;EACD,CAAC,GAAGc,KAAK;EACT,QAASG,MAAM,CAACC,IAAI;IACnB,KAAKC,2BAAgB;MAAE;QACtB,MAAMC,cAAc,GAAGH,MAAM,CAACI,WAAW;QACzC,IAAIC,oBAAoB,GAAG,IAAI;QAC/B,IAAAC,eAAO,EACN,CAAE,UAAU,EAAE,gBAAgB,EAAE,iBAAiB,CAAE,EACjDC,QAAQ,IAAM;UACf,IAAKJ,cAAc,CAAEI,QAAQ,CAAE,EAAG;YACjC,MAAMC,WAAW,GAAGL,cAAc,CAAEI,QAAQ,CAAE;YAC9C,IAAK,CAAEE,KAAK,CAACC,OAAO,CAAEF,WAAW,CAAE,EAAG;cACrCH,oBAAoB,GAAG,KAAK;cAC5B;YACD;;YAEA;YACA,IAAKG,WAAW,CAACT,MAAM,GAAG,CAAC,EAAG;cAC7B,IAAAO,eAAO,EAAEE,WAAW,EAAIG,IAAI,IAAM;gBACjC,IACC,OAAOA,IAAI,KAAK,QAAQ,IACxBA,IAAI,IAAI,IAAI,IACZA,IAAI,CAACC,EAAE,IACP,OAAOD,IAAI,CAACC,EAAE,KAAK,QAAQ,EAC1B;kBACD,IACC,IAAAC,YAAI,EAAEF,IAAI,CAACG,UAAU,CAAE,GAAG,CAAC,IAC3B,OAAOH,IAAI,CAACG,UAAU,KAAK,QAAQ,EAClC;oBACDT,oBAAoB,GAAG,KAAK;oBAC5B;kBACD;kBAEA,IAAKE,QAAQ,KAAK,UAAU,EAAG;oBAC9B;oBACA,IACC,CAAE,CAAEI,IAAI,CAACI,cAAc,CAAE,MAAM,CAAE,IAChC,OAAOJ,IAAI,CAACK,IAAI,KACf,QAAQ,KACV,CAAE,IAAAC,YAAI,EACLd,cAAc,CAACpB,eAAe,EAC5BmC,KAAK,IACNA,KAAK,CAACN,EAAE,KAAKD,IAAI,CAACC,EAAE,CACrB,IACDD,IAAI,CAACC,EAAE,KACN,yBAAyB,EACzB;sBACDP,oBAAoB,GAAG,KAAK;oBAC7B;kBACD;gBACD,CAAC,MAAM;kBACNA,oBAAoB,GAAG,KAAK;gBAC7B;cACD,CAAC,CAAE;YACJ;UACD;QACD,CAAC,CACD;QAED,IAAK,CAAEA,oBAAoB,EAAG;UAC7B,OAAOR,KAAK;QACb;QAEA,MAAMsB,WAAW,GAAGhB,cAAc,CAACtB,QAAQ,GACxCsB,cAAc,CAACtB,QAAQ,GACvBA,QAAQ;QAEX,MAAMuC,iBAAiB,GAAGjB,cAAc,CAACrB,cAAc,GACpDqB,cAAc,CAACrB,cAAc,GAC7Be,KAAK,CAACf,cAAc;QAEvB,MAAMuC,gBAAgB,GAAGlB,cAAc,CAACpB,eAAe,GACpDoB,cAAc,CAACpB,eAAe,GAC9Bc,KAAK,CAACd,eAAe;QACxB;QACA;QACA,IAAIuC,eAAe,GAAG,IAAI;QAC1B,CACC,gBAAgB,EAChB,aAAa,EACb,aAAa,EACb,mBAAmB,CACnB,CAAChB,OAAO,CAAIiB,IAAI,IAAM;UACtB,MAAMC,SAAmC,GAAG,CAC3C,GAAGL,WAAW,EACd,GAAGC,iBAAiB,EACpB,GAAGC,gBAAgB,CACnB;UACD,IACClB,cAAc,CAAEoB,IAAI,CAAE,IACtB,CAAE,IAAAN,YAAI,EACLO,SAAS,EACPN,KAAK,IACNA,KAAK,CAACN,EAAE,KAAKT,cAAc,CAAEoB,IAAI,CAAE,IACnCpB,cAAc,CAAEoB,IAAI,CAAE,KAAK,yBAAyB,CACrD,EACA;YACDD,eAAe,GAAG,KAAK;UACxB;QACD,CAAC,CAAE;QAEH,IAAK,CAAEA,eAAe,EAAG,OAAOzB,KAAK;QAErC,IAAI4B,eAAe,GAAG,IAAI;;QAE1B;QACA,CACC,aAAa,EACb,cAAc,EACd,cAAc,EACd,wBAAwB,EACxB,uBAAuB,CACvB,CAACnB,OAAO,CAAIiB,IAAI,IAAM;UACtB,IACCpB,cAAc,CAAEoB,IAAI,CAAE,IACtB,OAAOpB,cAAc,CAAEoB,IAAI,CAAE,KAAK,SAAS,EAC1C;YACDE,eAAe,GAAG,KAAK;UACxB;QACD,CAAC,CAAE;QAEH,IAAK,CAAEA,eAAe,EAAG;UACxB,OAAO5B,KAAK;QACb;QAEA,MAAM6B,iBAAiB,GAAGvB,cAAc,CAACnB,cAAc,GACpDmB,cAAc,CAACnB,cAAc,GAC7BA,cAAc;QACjB,MAAM2C,YAAY,GACjBR,WAAW,EAAEpB,MAAM,GAAG,CAAC,IACvBoB,WAAW,CAAE,CAAC,CAAE,CAACP,EAAE,IAAIc,iBAAiB;QAEzC,MAAME,WAAW,GAChBT,WAAW,EAAEpB,MAAM,GAAG,CAAC,IACvBoB,WAAW,CAAEA,WAAW,CAACpB,MAAM,GAAG,CAAC,CAAE,CAACa,EAAE,IAAIc,iBAAiB;QAE9D,OAAO;UACN,GAAG7B,KAAK;UACR,GAAGM,cAAc;UACjBd,YAAY,EACXc,cAAc,CAACd,YAAY,KAAKJ,SAAS,GACtCY,KAAK,CAACR,YAAY,GAClBc,cAAc,CAACd,YAAY,KAAK,IAAI,IAAIuC,WAAW,GACnD,KAAK,GACLzB,cAAc,CAACd,YAAY;UAC/BC,YAAY,EACXa,cAAc,CAACb,YAAY,KAAKL,SAAS,GACtCY,KAAK,CAACP,YAAY,GAClBa,cAAc,CAACb,YAAY,KAAK,IAAI,IAAIqC,YAAY,GACpD,KAAK,GACLxB,cAAc,CAACb,YAAY;UAC/BI,qBAAqB,EACpB0B,iBAAiB,CAACrB,MAAM,IACxB,IAAAkB,YAAI,EACHG,iBAAiB,EACfS,MAAM,IAAMA,MAAM,CAACjB,EAAE,KAAKc,iBAAiB,CAC7C,GACE,IAAI,GACJ,KAAK;UACTjC,sBAAsB,EACrB,IAAAwB,YAAI,EACHI,gBAAgB,EACdQ,MAAM,IAAMA,MAAM,CAACjB,EAAE,KAAKc,iBAAiB,CAC7C,IAAI,yBAAyB,KAAKA,iBAAiB,GACjD,IAAI,GACJ;QACL,CAAC;MACF;IAEA,KAAKI,kBAAO;MAAE;QACb,IAAKtC,WAAW,EAAG,OAAOK,KAAK;QAC/B,MAAMkC,gBAAgB,GACrBlD,QAAQ,CAACmD,MAAM,CACZd,KAAK,IACNA,KAAK,CAACF,IAAI,KAAK,gBAAgB,IAC/BE,KAAK,CAACF,IAAI,KAAK,iBAAiB,IAChCE,KAAK,CAACN,EAAE,KAAK1B,WAAW,CACzB,CAACa,MAAM,GAAG,CAAC;QACb,MAAMkC,iBAAiB,GACtBpD,QAAQ,EAAEkB,MAAM,GAAG,CAAC,IACpBlB,QAAQ,CAAEA,QAAQ,CAACkB,MAAM,GAAG,CAAC,CAAE,CAACa,EAAE,KAAK5B,cAAc,IACrD,CAAE+C,gBAAgB;QACnB,IAAKE,iBAAiB,EAAG,OAAOpC,KAAK;QACrC,MAAMqC,iBAAiB,GAAGrD,QAAQ,CAACsD,SAAS,CACzCC,KAAK,IAAMA,KAAK,CAACxB,EAAE,KAAK5B,cAAc,CACxC;QACD,IAAIqD,kBAAkB,GAAGnD,WAAW;QACpC;QACA;QACA,MAAMoD,oBAAoB,GAAGzD,QAAQ,CAACsD,SAAS,CAC5CI,MAAM,IAAMA,MAAM,CAAC3B,EAAE,KAAKyB,kBAAkB,CAC9C;QAED,IACCC,oBAAoB,KAAK,CAAC,CAAC,IAC3BA,oBAAoB,KAAKJ,iBAAiB,EACzC;UACDG,kBAAkB,GAAGpD,SAAS;QAC/B;QACA,OAAO;UACN,GAAGY,KAAK;UACRR,YAAY,EAAE,CAAEgD,kBAAkB,GAAG,KAAK,GAAG,IAAI;UACjD/C,YAAY,EAAE,IAAI;UAClBN,cAAc,EAAEqD,kBAAkB;UAClCjD,WAAW,EAAEiD,kBAAkB,GAC5BxD,QAAQ,CAAEyD,oBAAoB,GAAG,CAAC,CAAE,GACnCzD,QAAQ,CAAEyD,oBAAoB,GAAG,CAAC,CAAE,CAAC1B,EAAE,GACvC3B,SAAS,GACVJ,QAAQ,CAAEA,QAAQ,CAACkB,MAAM,GAAG,CAAC,CAAE,CAACa,EAAE;UACrCzB,iBAAiB,EAAEH,cAAc;UACjCE,WAAW,EACVoD,oBAAoB,KAAK,CAAC,CAAC,GACxBzD,QAAQ,CAAEyD,oBAAoB,GAAG,CAAC,CAAE,GACnCzD,QAAQ,CAAEyD,oBAAoB,GAAG,CAAC,CAAE,CAAC1B,EAAE,GACvC3B,SAAS,GACVC,WAAW;UACfM,WAAW,EAAE,IAAI;UACjBC,sBAAsB,EAAE;QACzB,CAAC;MACF;IAEA,KAAK+C,kBAAO;MAAE;QACb,MAAMb,YAAY,GACjB9C,QAAQ,EAAEkB,MAAM,GAAG,CAAC,IAAIlB,QAAQ,CAAE,CAAC,CAAE,CAAC+B,EAAE,KAAK5B,cAAc;QAE5D,IAAKQ,WAAW,IAAImC,YAAY,EAAG,OAAO9B,KAAK;QAC/C,MAAMqC,iBAAiB,GAAGrD,QAAQ,CAACsD,SAAS,CACzCC,KAAK,IAAMA,KAAK,CAACxB,EAAE,KAAK5B,cAAc,CACxC;QACD,OAAO;UACN,GAAGa,KAAK;UACRP,YAAY,EAAET,QAAQ,CAAEqD,iBAAiB,GAAG,CAAC,CAAE,GAAG,IAAI,GAAG,KAAK;UAC9D7C,YAAY,EAAE,IAAI;UAClBL,cAAc,EAAEI,WAAW;UAC3BD,iBAAiB,EAAEH,cAAc;UACjCE,WAAW,EAAEF,cAAc;UAC3BI,WAAW,EAAEP,QAAQ,CAAEqD,iBAAiB,GAAG,CAAC,CAAE,EAAEtB,EAAE,GAC/C/B,QAAQ,CAAEqD,iBAAiB,GAAG,CAAC,CAAE,CAACtB,EAAE,GACpC3B,SAAS;UACZO,WAAW,EAAE,IAAI;UACjBC,sBAAsB,EAAE;QACzB,CAAC;MACF;IAEA,KAAKgD,6CAAkC;MAAE;QACxC,MAAM;UAAEC;QAAI,CAAC,GAAG1C,MAAM;QACtB,OAAO;UACN,GAAGH,KAAK;UACRN,yBAAyB,EAAEmD;QAC5B,CAAC;MACF;IACA,KAAKC,sBAAW;MAAE;QACjB,IAAI;UAAE/B,EAAE;UAAEgC;QAAiB,CAAC,GAAG5C,MAAM;QACrC,IAAKhB,cAAc,KAAK4B,EAAE,IAAI,CAAEgC,gBAAgB,EAAG,OAAO/C,KAAK;QAC/D,MAAMgD,4BAA4B,GAAGhD,KAAK,CAACf,cAAc,CAACmC,IAAI,CAC3DY,MAAM,IAAMA,MAAM,CAACjB,EAAE,KAAKA,EAAE,CAC9B;QACD,MAAMkC,6BAA6B,GAAGjD,KAAK,CAACd,eAAe,CAACkC,IAAI,CAC7DY,MAAM,IAAMA,MAAM,CAACjB,EAAE,KAAKA,EAAE,CAC9B;QAED,IACCkC,6BAA6B,IAC7BD,4BAA4B,EAC3B;UACD,OAAO;YACN,GAAGhD,KAAK;YACRb,cAAc,EAAE4B,EAAE;YAClBpB,WAAW,EAAE,IAAI;YACjBH,YAAY,EAAE,KAAK;YACnBC,YAAY,EAAE,KAAK;YACnBJ,WAAW,EAAED,SAAS;YACtBG,WAAW,EAAEH,SAAS;YACtBE,iBAAiB,EAAEH,cAAc;YACjCU,qBAAqB,EAAEmD,4BAA4B;YACnDpD,sBAAsB,EAAEqD;UACzB,CAAC;QACF;QACA,IAAIC,UAAU,GAAGlD,KAAK,CAAChB,QAAQ,CAACsD,SAAS,CACtCC,KAAK,IAAMA,KAAK,CAACxB,EAAE,KAAKA,EAAE,CAC5B;;QAED;QACA,IACCmC,UAAU,KAAK,CAAC,CAAC,IACjB,CAAEF,4BAA4B,IAC9B,CAAEC,6BAA6B,EAC9B;UACD,MAAME,WAAW,GAAGnD,KAAK,CAAChB,QAAQ,CAACmD,MAAM,CACtCI,KAAK,IAAMA,KAAK,CAACpB,IAAI,KAAK,OAAO,CACnC;UAED,IAAIiC,QAAQ;UACZ,IAAA3C,eAAO,EAAE0C,WAAW,EAAIE,UAAU,IAAM;YACvC,IAAKA,UAAU,CAACC,WAAW,EAAG;cAC7B,MAAMC,UAAU,GAAGF,UAAU,CAACC,WAAW,CAAChB,SAAS,CAChDkB,UAAU,IAAMA,UAAU,CAACzC,EAAE,KAAKA,EAAE,CACtC;cAED,IAAKwC,UAAU,KAAK,CAAC,CAAC,EAAG;gBACxBH,QAAQ,GAAGC,UAAU,CAACtC,EAAE;cACzB;YACD;UACD,CAAC,CAAE;UAEH,IAAK,CAAEqC,QAAQ,EAAG;YACjB,OAAOpD,KAAK;UACb;UACAe,EAAE,GAAGqC,QAAQ;UACbF,UAAU,GAAGlD,KAAK,CAAChB,QAAQ,CAACsD,SAAS,CAClCC,KAAK,IAAMA,KAAK,CAACxB,EAAE,KAAKA,EAAE,CAC5B;QACF;QAEA,OAAO;UACN,GAAGf,KAAK;UACRb,cAAc,EAAE4B,EAAE;UAClBpB,WAAW,EAAE,IAAI;UACjBH,YAAY,EAAER,QAAQ,CAAEkE,UAAU,GAAG,CAAC,CAAE,GAAG,IAAI,GAAG,KAAK;UACvDzD,YAAY,EAAET,QAAQ,CAAEkE,UAAU,GAAG,CAAC,CAAE,GAAG,IAAI,GAAG,KAAK;UACvD7D,WAAW,EAAEL,QAAQ,CAAEkE,UAAU,GAAG,CAAC,CAAE,GACpClE,QAAQ,CAAEkE,UAAU,GAAG,CAAC,CAAE,CAACnC,EAAE,GAC7B3B,SAAS;UACZG,WAAW,EAAEP,QAAQ,CAAEkE,UAAU,GAAG,CAAC,CAAE,GACpClE,QAAQ,CAAEkE,UAAU,GAAG,CAAC,CAAE,CAACnC,EAAE,GAC7B3B,SAAS;UACZE,iBAAiB,EAAEH,cAAc;UACjCU,qBAAqB,EAAE,KAAK;UAC5BD,sBAAsB,EAAE;QACzB,CAAC;MACF;IACA,KAAK6D,wBAAa;MAAE;QACnB,OAAO;UACN,GAAGzD,KAAK;UACRR,YAAY,EAAE,KAAK;UACnBC,YAAY,EAAE,KAAK;UACnBG,sBAAsB,EAAE,IAAI;UAC5BT,cAAc,EAAEE,WAAW,IAAIW,KAAK,CAACd,eAAe,CAACwE,IAAI,CAAC1B,MAAM,IAAIA,MAAM,CAACjB,EAAE,KAAK1B,WAAW,CAAC,GAC3FA,WAAW,GACXH,eAAe,CAAE,CAAC,CAAE,EAAE6B,EAAE,GACxB7B,eAAe,CAAE,CAAC,CAAE,CAAC6B,EAAE,GACvB,yBAAyB;UAC5BxB,WAAW,EAAEH,SAAS;UACtBC,WAAW,EAAED,SAAS;UACtBE,iBAAiB,EAAEF,SAAS;UAC5BU,WAAW,EAAE;QACd,CAAC;MACF;EAAC;EAEF,OAAOE,KAAK;AACb,CAAC;AAED,MAAM2D,SAAkB,GAAG,SAAAA,CAAA,EAA6B;EAAA,IAA3B3D,KAAK,GAAAC,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAb,SAAA,GAAAa,SAAA,MAAG,KAAK;EAAA,IAAEE,MAAM,GAAAF,SAAA,CAAAC,MAAA,OAAAD,SAAA,MAAAb,SAAA;EACjD,QAASe,MAAM,CAACC,IAAI;IACnB,KAAKwD,yBAAc;MAAE;QACpB,IAAK,OAAOzD,MAAM,CAAC0C,GAAG,KAAK,SAAS,EAAG;UACtC,OAAO7C,KAAK;QACb;QAEA,OAAOG,MAAM,CAAC0C,GAAG;MAClB;EAAC;EAGF,OAAO7C,KAAK;AACb,CAAC;AAED,MAAM6D,aAAsB,GAAG,SAAAA,CAAA,EAA4B;EAAA,IAA1B7D,KAAK,GAAAC,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAb,SAAA,GAAAa,SAAA,MAAG,IAAI;EAAA,IAAEE,MAAM,GAAAF,SAAA,CAAAC,MAAA,OAAAD,SAAA,MAAAb,SAAA;EACpD,QAASe,MAAM,CAACC,IAAI;IACnB,KAAK0D,6BAAkB;MAAE;QACxB,IAAK,OAAO3D,MAAM,CAAC0C,GAAG,KAAK,SAAS,EAAG;UACtC,OAAO7C,KAAK;QACb;QAEA,OAAOG,MAAM,CAAC0C,GAAG;MAClB;EAAC;EAGF,OAAO7C,KAAK;AACb,CAAC;AAED,MAAM+D,MAAqD,GAAG,SAAAA,CAAA,EAQzD;EAAA,IAPJ/D,KAAK,GAAAC,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAb,SAAA,GAAAa,SAAA,MAAG;IACP+D,YAAY,EAAE,KAAK;IACnBlE,WAAW,EAAE,KAAK;IAClBmE,aAAa,EAAE,EAAE;IACjBC,WAAW,EAAE;EACd,CAAC;EAAA,IACD/D,MAAM,GAAAF,SAAA,CAAAC,MAAA,OAAAD,SAAA,MAAAb,SAAA;EAEN,QAASe,MAAM,CAACC,IAAI;IACnB,KAAKqD,wBAAa;MAAE;QACnB,OAAO;UACNO,YAAY,EAAE,KAAK;UACnBlE,WAAW,EAAE,KAAK;UAClBmE,aAAa,EAAE,EAAE;UACjBC,WAAW,EAAE;QACd,CAAC;MACF;IAEA,KAAKC,2BAAgB;MAAE;QACtB,MAAM;UAAEtB;QAAI,CAAC,GAAG1C,MAAM;QACtB,OAAO;UACN,GAAGH,KAAK;UACRF,WAAW,EAAE+C;QACd,CAAC;MACF;IAEA,KAAKuB,4BAAiB;MAAE;QACvB,MAAM;UAAEvB;QAAI,CAAC,GAAG1C,MAAM;QACtB,OAAO;UACN,GAAGH,KAAK;UACRgE,YAAY,EAAEnB,GAAG;UACjBoB,aAAa,EAAE;QAChB,CAAC;MACF;IAEA,KAAKI,6BAAkB;MAAE;QACxB;QACA,IAAK,CAAErE,KAAK,CAACgE,YAAY,EAAG,OAAOhE,KAAK;QACxC,MAAM;UAAE6C;QAAI,CAAC,GAAG1C,MAAM;QACtB,OAAO;UACN,GAAGH,KAAK;UACRgE,YAAY,EAAE,KAAK;UACnBC,aAAa,EAAEpB;QAChB,CAAC;MACF;IAEA,KAAKyB,2BAAgB;MAAE;QACtB,OAAO;UACN,GAAGtE,KAAK;UACRkE,WAAW,EAAE/D,MAAM,CAACoE;QACrB,CAAC;MACF;EAAC;EAGF,OAAOvE,KAAK;AACb,CAAC;AAED,MAAMwE,OAAoE,GAAG,SAAAA,CAAA,EAGxE;EAAA,IAFJxE,KAAK,GAAAC,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAb,SAAA,GAAAa,SAAA,MAAG,CAAC,CAAC;EAAA,IACVE,MAAM,GAAAF,SAAA,CAAAC,MAAA,OAAAD,SAAA,MAAAb,SAAA;EAEN,QAASe,MAAM,CAACC,IAAI;IACnB;IACA,KAAKqE,oCAAyB;MAAE;QAC/B,MAAM;UAAE1D,EAAE;UAAE2D;QAAU,CAAC,GAAGvE,MAAM;QAChC,MAAMqE,OAAO,GAAG;UAAE,GAAGxE;QAAM,CAAC;QAE5B,IAAK,CAAEwE,OAAO,CAAEzD,EAAE,CAAE,EAAG;UACtByD,OAAO,CAAEzD,EAAE,CAAE,GAAG;YACf4D,KAAK,EAAEvF,SAAS;YAChBwF,OAAO,EAAE,IAAI;YACbC,UAAU,EAAE,KAAK;YACjBC,SAAS,EAAE,KAAK;YAChBC,UAAU,EAAE3F,SAAS;YACrB4F,aAAa,EAAE5F,SAAS;YACxBsF;UACD,CAAC;QACF;QACA,OAAOF,OAAO;MACf;;IAEA;IACA,KAAKS,2BAAgB;MAAE;QACtB,MAAM;UAAElE,EAAE;UAAE8B;QAAI,CAAC,GAAG1C,MAAM;QAC1B;QACA,IAAK0C,GAAG,KAAK7C,KAAK,CAAEe,EAAE,CAAE,EAAE4D,KAAK,EAAG;UACjC,OAAO3E,KAAK;QACb;QAEA,OAAO;UACN,GAAGA,KAAK;UACR,CAAEe,EAAE,GAAI;YACP,GAAGf,KAAK,CAAEe,EAAE,CAAE;YACd4D,KAAK,EAAE9B;UACR;QACD,CAAC;MACF;IAEA,KAAKqC,wBAAa;MAAE;QACnB,OAAO,CAAC,CAAC;MACV;;IAEA;IACA,KAAKC,6BAAkB;MAAE;QACxB,MAAM;UAAEpE,EAAE;UAAE8B;QAAI,CAAC,GAAG1C,MAAM;QAC1B;QACA,IAAK,CAAEH,KAAK,CAAEe,EAAE,CAAE,IAAI8B,GAAG,KAAK7C,KAAK,CAAEe,EAAE,CAAE,CAAC6D,OAAO,EAAG;UACnD,OAAO5E,KAAK;QACb;QAEA,OAAO;UACN,GAAGA,KAAK;UACR,CAAEe,EAAE,GAAI;YACP,GAAGf,KAAK,CAAEe,EAAE,CAAE;YACd6D,OAAO,EAAE/B;UACV;QACD,CAAC;MACF;;IAEA;IACA,KAAKuC,gCAAqB;MAAE;QAC3B,MAAM;UAAErE,EAAE;UAAE8B;QAAI,CAAC,GAAG1C,MAAM;QAC1B;QACA,IAAK,CAAEH,KAAK,CAAEe,EAAE,CAAE,IAAI8B,GAAG,KAAK7C,KAAK,CAAEe,EAAE,CAAE,CAAC8D,UAAU,EAAG;UACtD,OAAO7E,KAAK;QACb;QACA,OAAO;UACN,GAAGA,KAAK;UACR,CAAEe,EAAE,GAAI;YACP,GAAGf,KAAK,CAAEe,EAAE,CAAE;YACd8D,UAAU,EAAEhC;UACb;QACD,CAAC;MACF;;IAEA;IACA,KAAKwC,+BAAoB;MAAE;QAC1B,MAAM;UAAEtE,EAAE;UAAE8B;QAAI,CAAC,GAAG1C,MAAM;QAC1B;QACA,IAAK,CAAEH,KAAK,CAAEe,EAAE,CAAE,IAAI8B,GAAG,KAAK7C,KAAK,CAAEe,EAAE,CAAE,CAAC+D,SAAS,EAAG;UACrD,OAAO9E,KAAK;QACb;QACA,OAAO;UACN,GAAGA,KAAK;UACR,CAAEe,EAAE,GAAI;YACP,GAAGf,KAAK,CAAEe,EAAE,CAAE;YACd+D,SAAS,EAAEjC;UACZ;QACD,CAAC;MACF;;IAEA;IACA,KAAKyC,gCAAqB;MAAE;QAC3B,MAAM;UAAEvE,EAAE;UAAE8B;QAAI,CAAC,GAAG1C,MAAM;QAC1B;QACA,IAAK,CAAEH,KAAK,CAAEe,EAAE,CAAE,IAAI8B,GAAG,KAAK7C,KAAK,CAAEe,EAAE,CAAE,CAACgE,UAAU,EAAG;UACtD,OAAO/E,KAAK;QACb;QACA,OAAO;UACN,GAAGA,KAAK;UACR,CAAEe,EAAE,GAAI;YACP,GAAGf,KAAK,CAAEe,EAAE,CAAE;YACdgE,UAAU,EAAElC;UACb;QACD,CAAC;MACF;;IAEA;IACA,KAAK0C,mCAAwB;MAAE;QAC9B,MAAM;UAAExE,EAAE;UAAE8B;QAAI,CAAC,GAAG1C,MAAM;QAC1B;QACA,IAAK,CAAEH,KAAK,CAAEe,EAAE,CAAE,IAAI8B,GAAG,KAAK7C,KAAK,CAAEe,EAAE,CAAE,CAACiE,aAAa,EAAG;UACzD,OAAOhF,KAAK;QACb;QACA,OAAO;UACN,GAAGA,KAAK;UACR,CAAEe,EAAE,GAAI;YACP,GAAGf,KAAK,CAAEe,EAAE,CAAE;YACdiE,aAAa,EAAEnC;UAChB;QACD,CAAC;MACF;EAAC;EAEF,OAAO7C,KAAK;AACb,CAAC;;AAED;AACA,MAAMwF,mBASL,GAAG,IAAAC,qBAAe,EAAE;EACpBjB,OAAO;EACPX,aAAa;EACbF,SAAS;EACTI,MAAM;EACNhE;AACD,CAAC,CAAE;AAAC,IAAA2F,QAAA,GAGWF,mBAAmB;AAAAG,OAAA,CAAAC,OAAA,GAAAF,QAAA"}