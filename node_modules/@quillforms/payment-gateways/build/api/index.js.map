{"version":3,"names":["_hooks","require","_lodash","paymentGatewayModules","registerPaymentGatewayModule","slug","module","applyFilters","console","error","name","icon","description","settings","isFunction","methods","_method","Object","values","exports","getPaymentGatewayModules","getPaymentGatewayModule"],"sources":["@quillforms/payment-gateways/src/api/index.ts"],"sourcesContent":["/**\r\n * WordPress Dependencies\r\n */\r\nimport { applyFilters } from '@wordpress/hooks';\r\n\r\n/**\r\n * External Dependencies\r\n */\r\nimport { isFunction } from 'lodash';\r\n\r\n/**\r\n * Internal Modules\r\n */\r\nimport type { PaymentGatewayModules, PaymentGatewayModule } from '../types';\r\n\r\nlet paymentGatewayModules = {};\r\n\r\n/**\r\n * Register PaymentGateway Module\r\n *\r\n * @param {string}               slug     The module slug\r\n * @param {PaymentGatewayModule} module The module properties.\r\n *\r\n */\r\nexport const registerPaymentGatewayModule = (\r\n\tslug: string,\r\n\tmodule: PaymentGatewayModule\r\n) => {\r\n\tmodule = applyFilters(\r\n\t\t'QuillForms.PaymentGateways.PaymentGatewayModule',\r\n\t\tmodule,\r\n\t\tslug\r\n\t) as PaymentGatewayModule;\r\n\r\n\tif ( paymentGatewayModules[ slug ] ) {\r\n\t\tconsole.error(\r\n\t\t\t`This payment gateway ${ slug } is already registered!`\r\n\t\t);\r\n\t\treturn;\r\n\t}\r\n\r\n\tif ( ! module.name ) {\r\n\t\tconsole.error( `The 'name' property is mandatory!` );\r\n\t\treturn;\r\n\t}\r\n\r\n\tif ( typeof module.name !== 'string' ) {\r\n\t\tconsole.error( `The 'name' property must be a string!` );\r\n\t\treturn;\r\n\t}\r\n\r\n\tif ( ! module.icon ) {\r\n\t\tconsole.error( `The 'icon' property is mandatory!` );\r\n\t\treturn;\r\n\t}\r\n\r\n\tif ( ! module.description ) {\r\n\t\tconsole.error( `The 'description' property is mandatory!` );\r\n\t\treturn;\r\n\t}\r\n\r\n\tif ( module.settings && ! isFunction( module.settings ) ) {\r\n\t\tconsole.error( 'The \"settings\" property must be a valid function!' );\r\n\t\treturn;\r\n\t}\r\n\r\n\tif ( ! module.methods ) {\r\n\t\tconsole.error( `The 'methods' property is mandatory!` );\r\n\t\treturn;\r\n\t}\r\n\r\n\tfor ( const _method of Object.values( module.methods ) ) {\r\n\t\t// TODO: method props check.\r\n\t}\r\n\r\n\tpaymentGatewayModules[ slug ] = module;\r\n};\r\n\r\nexport const getPaymentGatewayModules = (): PaymentGatewayModules => {\r\n\treturn paymentGatewayModules;\r\n};\r\n\r\nexport const getPaymentGatewayModule = ( slug: string ) => {\r\n\treturn paymentGatewayModules[ slug ];\r\n};\r\n"],"mappings":";;;;;;AAGA,IAAAA,MAAA,GAAAC,OAAA;AAKA,IAAAC,OAAA,GAAAD,OAAA;AARA;AACA;AACA;;AAGA;AACA;AACA;;AAQA,IAAIE,qBAAqB,GAAG,CAAC,CAAC;;AAE9B;AACA;AACA;AACA;AACA;AACA;AACA;AACO,MAAMC,4BAA4B,GAAGA,CAC3CC,IAAY,EACZC,MAA4B,KACxB;EACJA,MAAM,GAAG,IAAAC,mBAAY,EACpB,iDAAiD,EACjDD,MAAM,EACND,IAAI,CACoB;EAEzB,IAAKF,qBAAqB,CAAEE,IAAI,CAAE,EAAG;IACpCG,OAAO,CAACC,KAAK,CACX,wBAAwBJ,IAAM,yBAAwB,CACvD;IACD;EACD;EAEA,IAAK,CAAEC,MAAM,CAACI,IAAI,EAAG;IACpBF,OAAO,CAACC,KAAK,CAAG,mCAAkC,CAAE;IACpD;EACD;EAEA,IAAK,OAAOH,MAAM,CAACI,IAAI,KAAK,QAAQ,EAAG;IACtCF,OAAO,CAACC,KAAK,CAAG,uCAAsC,CAAE;IACxD;EACD;EAEA,IAAK,CAAEH,MAAM,CAACK,IAAI,EAAG;IACpBH,OAAO,CAACC,KAAK,CAAG,mCAAkC,CAAE;IACpD;EACD;EAEA,IAAK,CAAEH,MAAM,CAACM,WAAW,EAAG;IAC3BJ,OAAO,CAACC,KAAK,CAAG,0CAAyC,CAAE;IAC3D;EACD;EAEA,IAAKH,MAAM,CAACO,QAAQ,IAAI,CAAE,IAAAC,kBAAU,EAAER,MAAM,CAACO,QAAQ,CAAE,EAAG;IACzDL,OAAO,CAACC,KAAK,CAAE,mDAAmD,CAAE;IACpE;EACD;EAEA,IAAK,CAAEH,MAAM,CAACS,OAAO,EAAG;IACvBP,OAAO,CAACC,KAAK,CAAG,sCAAqC,CAAE;IACvD;EACD;EAEA,KAAM,MAAMO,OAAO,IAAIC,MAAM,CAACC,MAAM,CAAEZ,MAAM,CAACS,OAAO,CAAE,EAAG;IACxD;EAAA;EAGDZ,qBAAqB,CAAEE,IAAI,CAAE,GAAGC,MAAM;AACvC,CAAC;AAACa,OAAA,CAAAf,4BAAA,GAAAA,4BAAA;AAEK,MAAMgB,wBAAwB,GAAGA,CAAA,KAA6B;EACpE,OAAOjB,qBAAqB;AAC7B,CAAC;AAACgB,OAAA,CAAAC,wBAAA,GAAAA,wBAAA;AAEK,MAAMC,uBAAuB,GAAKhB,IAAY,IAAM;EAC1D,OAAOF,qBAAqB,CAAEE,IAAI,CAAE;AACrC,CAAC;AAACc,OAAA,CAAAE,uBAAA,GAAAA,uBAAA"}