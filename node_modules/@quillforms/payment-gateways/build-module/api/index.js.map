{"version":3,"names":["applyFilters","isFunction","paymentGatewayModules","registerPaymentGatewayModule","slug","module","console","error","name","icon","description","settings","methods","_method","Object","values","getPaymentGatewayModules","getPaymentGatewayModule"],"sources":["@quillforms/payment-gateways/src/api/index.ts"],"sourcesContent":["/**\r\n * WordPress Dependencies\r\n */\r\nimport { applyFilters } from '@wordpress/hooks';\r\n\r\n/**\r\n * External Dependencies\r\n */\r\nimport { isFunction } from 'lodash';\r\n\r\n/**\r\n * Internal Modules\r\n */\r\nimport type { PaymentGatewayModules, PaymentGatewayModule } from '../types';\r\n\r\nlet paymentGatewayModules = {};\r\n\r\n/**\r\n * Register PaymentGateway Module\r\n *\r\n * @param {string}               slug     The module slug\r\n * @param {PaymentGatewayModule} module The module properties.\r\n *\r\n */\r\nexport const registerPaymentGatewayModule = (\r\n\tslug: string,\r\n\tmodule: PaymentGatewayModule\r\n) => {\r\n\tmodule = applyFilters(\r\n\t\t'QuillForms.PaymentGateways.PaymentGatewayModule',\r\n\t\tmodule,\r\n\t\tslug\r\n\t) as PaymentGatewayModule;\r\n\r\n\tif ( paymentGatewayModules[ slug ] ) {\r\n\t\tconsole.error(\r\n\t\t\t`This payment gateway ${ slug } is already registered!`\r\n\t\t);\r\n\t\treturn;\r\n\t}\r\n\r\n\tif ( ! module.name ) {\r\n\t\tconsole.error( `The 'name' property is mandatory!` );\r\n\t\treturn;\r\n\t}\r\n\r\n\tif ( typeof module.name !== 'string' ) {\r\n\t\tconsole.error( `The 'name' property must be a string!` );\r\n\t\treturn;\r\n\t}\r\n\r\n\tif ( ! module.icon ) {\r\n\t\tconsole.error( `The 'icon' property is mandatory!` );\r\n\t\treturn;\r\n\t}\r\n\r\n\tif ( ! module.description ) {\r\n\t\tconsole.error( `The 'description' property is mandatory!` );\r\n\t\treturn;\r\n\t}\r\n\r\n\tif ( module.settings && ! isFunction( module.settings ) ) {\r\n\t\tconsole.error( 'The \"settings\" property must be a valid function!' );\r\n\t\treturn;\r\n\t}\r\n\r\n\tif ( ! module.methods ) {\r\n\t\tconsole.error( `The 'methods' property is mandatory!` );\r\n\t\treturn;\r\n\t}\r\n\r\n\tfor ( const _method of Object.values( module.methods ) ) {\r\n\t\t// TODO: method props check.\r\n\t}\r\n\r\n\tpaymentGatewayModules[ slug ] = module;\r\n};\r\n\r\nexport const getPaymentGatewayModules = (): PaymentGatewayModules => {\r\n\treturn paymentGatewayModules;\r\n};\r\n\r\nexport const getPaymentGatewayModule = ( slug: string ) => {\r\n\treturn paymentGatewayModules[ slug ];\r\n};\r\n"],"mappings":"AAAA;AACA;AACA;AACA,SAASA,YAAY,QAAQ,kBAAkB;;AAE/C;AACA;AACA;AACA,SAASC,UAAU,QAAQ,QAAQ;;AAEnC;AACA;AACA;;AAGA,IAAIC,qBAAqB,GAAG,CAAC,CAAC;;AAE9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO,MAAMC,4BAA4B,GAAGA,CAC3CC,IAAY,EACZC,MAA4B,KACxB;EACJA,MAAM,GAAGL,YAAY,CACpB,iDAAiD,EACjDK,MAAM,EACND,IAAI,CACoB;EAEzB,IAAKF,qBAAqB,CAAEE,IAAI,CAAE,EAAG;IACpCE,OAAO,CAACC,KAAK,CACX,wBAAwBH,IAAM,yBAAwB,CACvD;IACD;EACD;EAEA,IAAK,CAAEC,MAAM,CAACG,IAAI,EAAG;IACpBF,OAAO,CAACC,KAAK,CAAG,mCAAkC,CAAE;IACpD;EACD;EAEA,IAAK,OAAOF,MAAM,CAACG,IAAI,KAAK,QAAQ,EAAG;IACtCF,OAAO,CAACC,KAAK,CAAG,uCAAsC,CAAE;IACxD;EACD;EAEA,IAAK,CAAEF,MAAM,CAACI,IAAI,EAAG;IACpBH,OAAO,CAACC,KAAK,CAAG,mCAAkC,CAAE;IACpD;EACD;EAEA,IAAK,CAAEF,MAAM,CAACK,WAAW,EAAG;IAC3BJ,OAAO,CAACC,KAAK,CAAG,0CAAyC,CAAE;IAC3D;EACD;EAEA,IAAKF,MAAM,CAACM,QAAQ,IAAI,CAAEV,UAAU,CAAEI,MAAM,CAACM,QAAQ,CAAE,EAAG;IACzDL,OAAO,CAACC,KAAK,CAAE,mDAAmD,CAAE;IACpE;EACD;EAEA,IAAK,CAAEF,MAAM,CAACO,OAAO,EAAG;IACvBN,OAAO,CAACC,KAAK,CAAG,sCAAqC,CAAE;IACvD;EACD;EAEA,KAAM,MAAMM,OAAO,IAAIC,MAAM,CAACC,MAAM,CAAEV,MAAM,CAACO,OAAO,CAAE,EAAG;IACxD;EAAA;EAGDV,qBAAqB,CAAEE,IAAI,CAAE,GAAGC,MAAM;AACvC,CAAC;AAED,OAAO,MAAMW,wBAAwB,GAAGA,CAAA,KAA6B;EACpE,OAAOd,qBAAqB;AAC7B,CAAC;AAED,OAAO,MAAMe,uBAAuB,GAAKb,IAAY,IAAM;EAC1D,OAAOF,qBAAqB,CAAEE,IAAI,CAAE;AACrC,CAAC"}