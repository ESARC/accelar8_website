{"version":3,"names":["_adminComponents","require","_data","_emotion","DateControls","props","id","attributes","format","separator","setAttributes","formatOptions","key","name","separatorOptions","setFieldAnswer","setIsFieldAnswered","setIsFieldValid","setFieldValidationErr","useDispatch","_element","createElement","BaseControl","ControlWrapper","orientation","ControlLabel","label","SelectControl","className","css","onChange","_ref","selectedItem","options","value","find","option","_ref2","_default","exports","default"],"sources":["@quillforms/blocklib-date-block/src/admin/controls.js"],"sourcesContent":["/**\r\n * QuillForms Dependencies\r\n */\r\nimport {\r\n\tBaseControl,\r\n\tControlWrapper,\r\n\tControlLabel,\r\n\tSelectControl,\r\n} from '@quillforms/admin-components';\r\n\r\n/**\r\n * WordPress Dependencies\r\n */\r\nimport { useDispatch } from '@wordpress/data';\r\n\r\n/**\r\n * External Dependencies\r\n */\r\nimport { css } from 'emotion';\r\n\r\nconst DateControls = ( props ) => {\r\n\tconst {\r\n\t\tid,\r\n\t\tattributes: { format, separator },\r\n\t\tsetAttributes,\r\n\t} = props;\r\n\tconst formatOptions = [\r\n\t\t{\r\n\t\t\tkey: 'MMDDYYYY',\r\n\t\t\tname: 'MMDDYYYY',\r\n\t\t},\r\n\t\t{\r\n\t\t\tkey: 'DDMMYYYY',\r\n\t\t\tname: 'DDMMYYYY',\r\n\t\t},\r\n\t\t{\r\n\t\t\tkey: 'YYYYMMDD',\r\n\t\t\tname: 'YYYYMMDD',\r\n\t\t},\r\n\t];\r\n\tconst separatorOptions = [\r\n\t\t{\r\n\t\t\tkey: '/',\r\n\t\t\tname: '/',\r\n\t\t},\r\n\t\t{\r\n\t\t\tkey: '-',\r\n\t\t\tname: '-',\r\n\t\t},\r\n\t\t{\r\n\t\t\tkey: '.',\r\n\t\t\tname: '.',\r\n\t\t},\r\n\t];\r\n\tconst {\r\n\t\tsetFieldAnswer,\r\n\t\tsetIsFieldAnswered,\r\n\t\tsetIsFieldValid,\r\n\t\tsetFieldValidationErr,\r\n\t} = useDispatch( 'quillForms/renderer-core' );\r\n\treturn (\r\n\t\t<BaseControl>\r\n\t\t\t<ControlWrapper orientation=\"vertical\">\r\n\t\t\t\t<ControlLabel label=\"Date Format\" />\r\n\r\n\t\t\t\t<SelectControl\r\n\t\t\t\t\tclassName={ css`\r\n\t\t\t\t\t\tmargin-top: 5px;\r\n\t\t\t\t\t` }\r\n\t\t\t\t\tonChange={ ( { selectedItem } ) => {\r\n\t\t\t\t\t\t// Formatting changes can cause errors if the field has value already.\r\n\t\t\t\t\t\t// The problem comes when trying to assign invalid values to month or year or day.\r\n\t\t\t\t\t\t// That's why we are going to reset the field value.\r\n\t\t\t\t\t\t// The ideal solution should be reformatting the existing value to the new format not just resetting.\r\n\t\t\t\t\t\tsetFieldAnswer( id, '' );\r\n\t\t\t\t\t\tsetIsFieldValid( id, true );\r\n\t\t\t\t\t\tsetIsFieldAnswered( id, false );\r\n\t\t\t\t\t\tsetFieldValidationErr( id, null );\r\n\t\t\t\t\t\tsetAttributes( { format: selectedItem.key } );\r\n\t\t\t\t\t} }\r\n\t\t\t\t\toptions={ formatOptions }\r\n\t\t\t\t\tvalue={ formatOptions.find(\r\n\t\t\t\t\t\t( option ) => option.key === format\r\n\t\t\t\t\t) }\r\n\t\t\t\t/>\r\n\t\t\t\t<SelectControl\r\n\t\t\t\t\tclassName={ css`\r\n\t\t\t\t\t\tmargin-top: 10px;\r\n\t\t\t\t\t` }\r\n\t\t\t\t\tvalue={ separatorOptions.find(\r\n\t\t\t\t\t\t( option ) => option.key === separator\r\n\t\t\t\t\t) }\r\n\t\t\t\t\tonChange={ ( { selectedItem } ) => {\r\n\t\t\t\t\t\t// Formatting changes can cause errors if the field has value already.\r\n\t\t\t\t\t\t// The problem comes when trying to assign invalid values to month or year or day.\r\n\t\t\t\t\t\t// That's why we are going to reset the field value.\r\n\t\t\t\t\t\t// The ideal solution should be reformatting the existing value to the new format not just resetting.\r\n\t\t\t\t\t\tsetFieldAnswer( id, '' );\r\n\t\t\t\t\t\tsetIsFieldValid( id, true );\r\n\t\t\t\t\t\tsetIsFieldAnswered( id, false );\r\n\t\t\t\t\t\tsetFieldValidationErr( id, null );\r\n\t\t\t\t\t\tsetAttributes( { separator: selectedItem.key } );\r\n\t\t\t\t\t} }\r\n\t\t\t\t\toptions={ separatorOptions }\r\n\t\t\t\t/>\r\n\t\t\t</ControlWrapper>\r\n\t\t</BaseControl>\r\n\t);\r\n};\r\nexport default DateControls;\r\n"],"mappings":"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"}