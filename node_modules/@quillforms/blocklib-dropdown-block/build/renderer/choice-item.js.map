{"version":3,"names":["_rendererCore","require","_utils","_react","_classnames","_interopRequireDefault","_tinycolor","styles","_interopRequireWildcard","_getRequireWildcardCache","nodeInterop","WeakMap","cacheBabelInterop","cacheNodeInterop","obj","__esModule","default","cache","has","get","newObj","hasPropertyDescriptor","Object","defineProperty","getOwnPropertyDescriptor","key","prototype","hasOwnProperty","call","desc","set","selectionTimer","ChoiceItem","_ref","choice","blockId","choiceIndex","val","clickHandler","showDropdown","clicked","hovered","isBeingSelected","setIsBeingSelected","useState","item","useRef","cx","useCx","useEffect","theme","useTheme","answersColor","tinyColor","isSelected","value","current","click","_element","createElement","ref","id","className","selected","css","setAlpha","toString","isDark","DropdownChoiceWrapper","role","onClick","clearTimeout","setTimeout","label","_default","exports"],"sources":["@quillforms/blocklib-dropdown-block/src/renderer/choice-item.js"],"sourcesContent":["/**\r\n * QuillForms Dependencies\r\n */\r\nimport { useTheme } from '@quillforms/renderer-core';\r\nimport { css, useCx } from '@quillforms/utils';\r\n\r\n/**\r\n * WordPress Dependencies\r\n */\r\nimport { useState, useEffect, useRef } from 'react';\r\n\r\n/**\r\n * External Dependencies\r\n */\r\nimport classnames from 'classnames';\r\nimport tinyColor from 'tinycolor2';\r\nimport * as styles from './styles';\r\n\r\nlet selectionTimer;\r\n\r\nconst ChoiceItem = ( {\r\n\tchoice,\r\n\tblockId,\r\n\tchoiceIndex,\r\n\tval,\r\n\tclickHandler,\r\n\tshowDropdown,\r\n\tclicked,\r\n\thovered,\r\n} ) => {\r\n\tconst [ isBeingSelected, setIsBeingSelected ] = useState( false );\r\n\tconst item = useRef();\r\n\tconst cx = useCx();\r\n\tuseEffect( () => {\r\n\t\tif ( ! showDropdown ) setIsBeingSelected( false );\r\n\t}, [ showDropdown ] );\r\n\tconst theme = useTheme();\r\n\tconst answersColor = tinyColor( theme.answersColor );\r\n\tconst isSelected = val && val === choice.value;\r\n\tuseEffect( () => {\r\n\t\tif ( clicked ) item.current.click();\r\n\t\treturn () => {\r\n\t\t\tclicked = false;\r\n\t\t};\r\n\t}, [ clicked ] );\r\n\treturn (\r\n\t\t<div\r\n\t\t\tref={ item }\r\n\t\t\tid={ `block-${ blockId }-option-${ choiceIndex }` }\r\n\t\t\tclassName={ cx(\r\n\t\t\t\t'dropdown__choiceWrapper',\r\n\t\t\t\t{\r\n\t\t\t\t\tselected: isSelected,\r\n\t\t\t\t\tisBeingSelected,\r\n\t\t\t\t},\r\n\t\t\t\tcss`\r\n\t\t\t\t\t\tbackground: ${\r\n\t\t\t\t\t\t\thovered\r\n\t\t\t\t\t\t\t\t? answersColor.setAlpha( 0.2 ).toString()\r\n\t\t\t\t\t\t\t\t: answersColor.setAlpha( 0.1 ).toString()\r\n\t\t\t\t\t\t};\r\n\r\n\t\t\t\t\t\tborder-color: ${ theme.answersColor };\r\n\t\t\t\t\t\tcolor: ${ theme.answersColor };\r\n\r\n\t\t\t\t\t\t&:hover {\r\n\t\t\t\t\t\t\tbackground: ${ answersColor.setAlpha( 0.2 ).toString() };\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t&.selected {\r\n\t\t\t\t\t\t\tbackground: ${ tinyColor( theme.answersColor ).setAlpha( 0.75 ).toString() };\r\n\t\t\t\t\t\t\tcolor: ${ tinyColor( theme.answersColor ).isDark() ? '#fff' : '#333' }\r\n\t\t\t\t\t`,\r\n\t\t\t\tstyles.DropdownChoiceWrapper\r\n\t\t\t) }\r\n\t\t\trole=\"presentation\"\r\n\t\t\tonClick={ () => {\r\n\t\t\t\tif ( isSelected ) {\r\n\t\t\t\t\tclearTimeout( selectionTimer );\r\n\t\t\t\t}\r\n\t\t\t\tif ( ! isSelected ) setIsBeingSelected( true );\r\n\t\t\t\tclickHandler();\r\n\t\t\t\tselectionTimer = setTimeout( () => {\r\n\t\t\t\t\tif ( isBeingSelected ) setIsBeingSelected( false );\r\n\t\t\t\t}, 400 );\r\n\t\t\t} }\r\n\t\t>\r\n\t\t\t{ choice.label }\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default ChoiceItem;\r\n"],"mappings":"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"}