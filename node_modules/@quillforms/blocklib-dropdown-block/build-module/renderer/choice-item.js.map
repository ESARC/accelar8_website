{"version":3,"names":["useTheme","css","useCx","useState","useEffect","useRef","classnames","tinyColor","styles","selectionTimer","ChoiceItem","_ref","choice","blockId","choiceIndex","val","clickHandler","showDropdown","clicked","hovered","isBeingSelected","setIsBeingSelected","item","cx","theme","answersColor","isSelected","value","current","click","createElement","ref","id","className","selected","setAlpha","toString","isDark","DropdownChoiceWrapper","role","onClick","clearTimeout","setTimeout","label"],"sources":["@quillforms/blocklib-dropdown-block/src/renderer/choice-item.js"],"sourcesContent":["/**\r\n * QuillForms Dependencies\r\n */\r\nimport { useTheme } from '@quillforms/renderer-core';\r\nimport { css, useCx } from '@quillforms/utils';\r\n\r\n/**\r\n * WordPress Dependencies\r\n */\r\nimport { useState, useEffect, useRef } from 'react';\r\n\r\n/**\r\n * External Dependencies\r\n */\r\nimport classnames from 'classnames';\r\nimport tinyColor from 'tinycolor2';\r\nimport * as styles from './styles';\r\n\r\nlet selectionTimer;\r\n\r\nconst ChoiceItem = ( {\r\n\tchoice,\r\n\tblockId,\r\n\tchoiceIndex,\r\n\tval,\r\n\tclickHandler,\r\n\tshowDropdown,\r\n\tclicked,\r\n\thovered,\r\n} ) => {\r\n\tconst [ isBeingSelected, setIsBeingSelected ] = useState( false );\r\n\tconst item = useRef();\r\n\tconst cx = useCx();\r\n\tuseEffect( () => {\r\n\t\tif ( ! showDropdown ) setIsBeingSelected( false );\r\n\t}, [ showDropdown ] );\r\n\tconst theme = useTheme();\r\n\tconst answersColor = tinyColor( theme.answersColor );\r\n\tconst isSelected = val && val === choice.value;\r\n\tuseEffect( () => {\r\n\t\tif ( clicked ) item.current.click();\r\n\t\treturn () => {\r\n\t\t\tclicked = false;\r\n\t\t};\r\n\t}, [ clicked ] );\r\n\treturn (\r\n\t\t<div\r\n\t\t\tref={ item }\r\n\t\t\tid={ `block-${ blockId }-option-${ choiceIndex }` }\r\n\t\t\tclassName={ cx(\r\n\t\t\t\t'dropdown__choiceWrapper',\r\n\t\t\t\t{\r\n\t\t\t\t\tselected: isSelected,\r\n\t\t\t\t\tisBeingSelected,\r\n\t\t\t\t},\r\n\t\t\t\tcss`\r\n\t\t\t\t\t\tbackground: ${\r\n\t\t\t\t\t\t\thovered\r\n\t\t\t\t\t\t\t\t? answersColor.setAlpha( 0.2 ).toString()\r\n\t\t\t\t\t\t\t\t: answersColor.setAlpha( 0.1 ).toString()\r\n\t\t\t\t\t\t};\r\n\r\n\t\t\t\t\t\tborder-color: ${ theme.answersColor };\r\n\t\t\t\t\t\tcolor: ${ theme.answersColor };\r\n\r\n\t\t\t\t\t\t&:hover {\r\n\t\t\t\t\t\t\tbackground: ${ answersColor.setAlpha( 0.2 ).toString() };\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t&.selected {\r\n\t\t\t\t\t\t\tbackground: ${ tinyColor( theme.answersColor ).setAlpha( 0.75 ).toString() };\r\n\t\t\t\t\t\t\tcolor: ${ tinyColor( theme.answersColor ).isDark() ? '#fff' : '#333' }\r\n\t\t\t\t\t`,\r\n\t\t\t\tstyles.DropdownChoiceWrapper\r\n\t\t\t) }\r\n\t\t\trole=\"presentation\"\r\n\t\t\tonClick={ () => {\r\n\t\t\t\tif ( isSelected ) {\r\n\t\t\t\t\tclearTimeout( selectionTimer );\r\n\t\t\t\t}\r\n\t\t\t\tif ( ! isSelected ) setIsBeingSelected( true );\r\n\t\t\t\tclickHandler();\r\n\t\t\t\tselectionTimer = setTimeout( () => {\r\n\t\t\t\t\tif ( isBeingSelected ) setIsBeingSelected( false );\r\n\t\t\t\t}, 400 );\r\n\t\t\t} }\r\n\t\t>\r\n\t\t\t{ choice.label }\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default ChoiceItem;\r\n"],"mappings":";AAAA;AACA;AACA;AACA,SAASA,QAAQ,QAAQ,2BAA2B;AACpD,SAASC,GAAG,EAAEC,KAAK,QAAQ,mBAAmB;;AAE9C;AACA;AACA;AACA,SAASC,QAAQ,EAAEC,SAAS,EAAEC,MAAM,QAAQ,OAAO;;AAEnD;AACA;AACA;AACA,OAAOC,UAAU,MAAM,YAAY;AACnC,OAAOC,SAAS,MAAM,YAAY;AAClC,OAAO,KAAKC,MAAM,MAAM,UAAU;AAElC,IAAIC,cAAc;AAElB,MAAMC,UAAU,GAAGC,IAAA,IASZ;EAAA,IATc;IACpBC,MAAM;IACNC,OAAO;IACPC,WAAW;IACXC,GAAG;IACHC,YAAY;IACZC,YAAY;IACZC,OAAO;IACPC;EACD,CAAC,GAAAR,IAAA;EACA,MAAM,CAAES,eAAe,EAAEC,kBAAkB,CAAE,GAAGlB,QAAQ,CAAE,KAAK,CAAE;EACjE,MAAMmB,IAAI,GAAGjB,MAAM,EAAE;EACrB,MAAMkB,EAAE,GAAGrB,KAAK,EAAE;EAClBE,SAAS,CAAE,MAAM;IAChB,IAAK,CAAEa,YAAY,EAAGI,kBAAkB,CAAE,KAAK,CAAE;EAClD,CAAC,EAAE,CAAEJ,YAAY,CAAE,CAAE;EACrB,MAAMO,KAAK,GAAGxB,QAAQ,EAAE;EACxB,MAAMyB,YAAY,GAAGlB,SAAS,CAAEiB,KAAK,CAACC,YAAY,CAAE;EACpD,MAAMC,UAAU,GAAGX,GAAG,IAAIA,GAAG,KAAKH,MAAM,CAACe,KAAK;EAC9CvB,SAAS,CAAE,MAAM;IAChB,IAAKc,OAAO,EAAGI,IAAI,CAACM,OAAO,CAACC,KAAK,EAAE;IACnC,OAAO,MAAM;MACZX,OAAO,GAAG,KAAK;IAChB,CAAC;EACF,CAAC,EAAE,CAAEA,OAAO,CAAE,CAAE;EAChB,OACCY,aAAA;IACCC,GAAG,EAAGT,IAAM;IACZU,EAAE,EAAI,SAASnB,OAAS,WAAWC,WAAa,EAAG;IACnDmB,SAAS,EAAGV,EAAE,CACb,yBAAyB,EACzB;MACCW,QAAQ,EAAER,UAAU;MACpBN;IACD,CAAC,EACDnB,GAAI;AACR,oBACOkB,OAAO,GACJM,YAAY,CAACU,QAAQ,CAAE,GAAG,CAAE,CAACC,QAAQ,EAAE,GACvCX,YAAY,CAACU,QAAQ,CAAE,GAAG,CAAE,CAACC,QAAQ,EACxC;AACP;AACA,sBAAuBZ,KAAK,CAACC,YAAc;AAC3C,eAAgBD,KAAK,CAACC,YAAc;AACpC;AACA;AACA,qBAAsBA,YAAY,CAACU,QAAQ,CAAE,GAAG,CAAE,CAACC,QAAQ,EAAI;AAC/D;AACA;AACA;AACA,qBAAsB7B,SAAS,CAAEiB,KAAK,CAACC,YAAY,CAAE,CAACU,QAAQ,CAAE,IAAI,CAAE,CAACC,QAAQ,EAAI;AACnF,gBAAiB7B,SAAS,CAAEiB,KAAK,CAACC,YAAY,CAAE,CAACY,MAAM,EAAE,GAAG,MAAM,GAAG,MAAQ;AAC7E,MAAM,EACF7B,MAAM,CAAC8B,qBAAqB,CAC1B;IACHC,IAAI,EAAC,cAAc;IACnBC,OAAO,EAAGA,CAAA,KAAM;MACf,IAAKd,UAAU,EAAG;QACjBe,YAAY,CAAEhC,cAAc,CAAE;MAC/B;MACA,IAAK,CAAEiB,UAAU,EAAGL,kBAAkB,CAAE,IAAI,CAAE;MAC9CL,YAAY,EAAE;MACdP,cAAc,GAAGiC,UAAU,CAAE,MAAM;QAClC,IAAKtB,eAAe,EAAGC,kBAAkB,CAAE,KAAK,CAAE;MACnD,CAAC,EAAE,GAAG,CAAE;IACT;EAAG,GAEDT,MAAM,CAAC+B,KAAK,CACT;AAER,CAAC;AAED,eAAejC,UAAU"}