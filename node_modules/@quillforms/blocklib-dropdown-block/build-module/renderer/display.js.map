{"version":3,"names":["useMessages","useBlockTheme","useCx","css","useState","useEffect","useRef","useMemo","createPortal","useSelect","tinyColor","classnames","cloneDeep","DropdownIcon","CloseIcon","ChoiceItem","styles","ENTER_CODE","ESC_CODE","ARROW_UP_CODE","ARROW_DOWN_CODE","timer","timer2","timer3","DropdownDisplay","props","id","attributes","setIsValid","setIsAnswered","setValidationErr","val","setVal","next","showErrMsg","isActive","isTouchScreen","setFooterDisplay","inputRef","isPreview","isReviewing","choices","required","cx","theme","themeId","showDropdown","setShowDropdown","searchKeyword","setSearchKeyword","selectedChoiceIndex","setSelectedChoiceIndex","clicked","setClicked","showCloseIcon","setShowCloseIcon","inputValue","setInputValue","showFixedDropdownInDom","setShowFixedDropdownInDom","showFDrop","setShowFDrop","wrapperRef","choicesWrappeerRef","messages","answersColor","$choices","map","choice","index","label","filter","toLowerCase","includes","checkFieldValidation","handleClickOutside","e","current","contains","target","document","addEventListener","querySelector","classList","add","remove","removeEventListener","setTimeout","clearTimeout","changeHandler","value","selectedChoice","find","checkInView","container","element","cTop","scrollTop","cBottom","clientHeight","eTop","offsetTop","eBottom","handleChoiceKeyDown","keyCode","block","length","newChoiceIndex","choiceEl","getElementById","stopPropagation","clickHandler","arguments","undefined","selectedIndex","findIndex","c","createElement","ref","style","position","autoComplete","className","setAlpha","toString","placeholder","onChange","onClick","blur","onFocus","onBlur","onKeyDown","focus","transform","visible","DropdownChoices","backgroundColor","onWheel","blockId","choiceIndex","hovered","role","key","errorsBgColor","errorsFontColor","Fragment","show","hide","FixedDropdown","focusable","viewBox","d","autoFocus"],"sources":["@quillforms/blocklib-dropdown-block/src/renderer/display.js"],"sourcesContent":["/* eslint-disable no-nested-ternary */\r\n/**\r\n * QuillForms Dependencies\r\n */\r\nimport { useMessages, useBlockTheme } from '@quillforms/renderer-core';\r\nimport { useCx, css } from '@quillforms/utils';\r\n\r\n/**\r\n * WordPress Dependencies\r\n */\r\nimport {\r\n\tuseState,\r\n\tuseEffect,\r\n\tuseRef,\r\n\tuseMemo\r\n} from 'react';\r\nimport { createPortal } from 'react-dom';\r\nimport { useSelect } from '@wordpress/data';\r\n\r\n/**\r\n * External Dependencies\r\n */\r\nimport tinyColor from 'tinycolor2';\r\nimport classnames from 'classnames';\r\nimport { cloneDeep } from 'lodash';\r\n\r\n/**\r\n * Internal Dependencies\r\n */\r\nimport DropdownIcon from './expand-icon';\r\nimport CloseIcon from './close-icon';\r\nimport ChoiceItem from './choice-item';\r\nimport * as styles from './styles';\r\n\r\nconst ENTER_CODE = 13;\r\nconst ESC_CODE = 27;\r\nconst ARROW_UP_CODE = 38;\r\nconst ARROW_DOWN_CODE = 40;\r\n\r\nlet timer;\r\nlet timer2;\r\nlet timer3;\r\nconst DropdownDisplay = (props) => {\r\n\tconst {\r\n\t\tid,\r\n\t\tattributes,\r\n\t\tsetIsValid,\r\n\t\tsetIsAnswered,\r\n\t\tsetValidationErr,\r\n\t\tval,\r\n\t\tsetVal,\r\n\t\tnext,\r\n\t\tshowErrMsg,\r\n\t\tisActive,\r\n\t\tisTouchScreen,\r\n\t\tsetFooterDisplay,\r\n\t\tinputRef,\r\n\t\tisPreview,\r\n\t\tisReviewing,\r\n\t} = props;\r\n\tconst { choices, required } = attributes;\r\n\tconst cx = useCx();\r\n\tconst theme = useBlockTheme(attributes.themeId);\r\n\tconst [showDropdown, setShowDropdown] = useState(false);\r\n\tconst [searchKeyword, setSearchKeyword] = useState('');\r\n\tconst [selectedChoiceIndex, setSelectedChoiceIndex] = useState(-1);\r\n\tconst [clicked, setClicked] = useState(false);\r\n\tconst [showCloseIcon, setShowCloseIcon] = useState(false);\r\n\tconst [inputValue, setInputValue] = useState('');\r\n\tconst [showFixedDropdownInDom, setShowFixedDropdownInDom] =\r\n\t\tuseState(false);\r\n\tconst [showFDrop, setShowFDrop] = useState(false);\r\n\tconst wrapperRef = useRef();\r\n\tconst choicesWrappeerRef = useRef();\r\n\tconst messages = useMessages();\r\n\tconst answersColor = tinyColor(theme.answersColor);\r\n\tconst $choices = useMemo(() => {\r\n\t\treturn cloneDeep(choices)\r\n\t\t\t.map((choice, index) => {\r\n\t\t\t\tif (!choice.label) choice.label = 'Choice ' + (index + 1);\r\n\t\t\t\treturn choice;\r\n\t\t\t})\r\n\t\t\t.filter((choice) =>\r\n\t\t\t\tchoice.label\r\n\t\t\t\t\t.toLowerCase()\r\n\t\t\t\t\t.includes(\r\n\t\t\t\t\t\tval && isTouchScreen ? '' : searchKeyword.toLowerCase()\r\n\t\t\t\t\t)\r\n\t\t\t);\r\n\t}, [choices, searchKeyword]);\r\n\r\n\tconst checkFieldValidation = () => {\r\n\t\tif (required === true && (!val || val === '')) {\r\n\t\t\tsetIsValid(false);\r\n\t\t\tsetValidationErr(\r\n\t\t\t\tmessages['label.errorAlert.selectionRequired']\r\n\t\t\t);\r\n\t\t} else {\r\n\t\t\tsetIsValid(true);\r\n\t\t\tsetValidationErr(null);\r\n\t\t}\r\n\t};\r\n\r\n\t// Handle click outside the countries dropdown\r\n\tconst handleClickOutside = (e) => {\r\n\t\tif (wrapperRef.current && !wrapperRef.current.contains(e.target)) {\r\n\t\t\tsetShowDropdown(false);\r\n\t\t\tsetSelectedChoiceIndex(-1);\r\n\t\t}\r\n\t};\r\n\r\n\t// Attaching the previous event with UseEffect hook\r\n\tuseEffect(() => {\r\n\t\tif (showDropdown) {\r\n\t\t\t// Bind the event listener\r\n\t\t\tdocument.addEventListener('mousedown', handleClickOutside);\r\n\t\t\tif (\r\n\t\t\t\tdocument.querySelector(\r\n\t\t\t\t\t`#block-${id} .renderer-core-field-footer`\r\n\t\t\t\t)\r\n\t\t\t) {\r\n\t\t\t\tdocument\r\n\t\t\t\t\t.querySelector(\r\n\t\t\t\t\t\t`#block-${id} .renderer-core-field-footer`\r\n\t\t\t\t\t)\r\n\t\t\t\t\t.classList.add('is-hidden');\r\n\t\t\t}\r\n\t\t} else if (\r\n\t\t\tdocument.querySelector(\r\n\t\t\t\t`#block-${id} .renderer-core-field-footer`\r\n\t\t\t)\r\n\t\t) {\r\n\t\t\tdocument\r\n\t\t\t\t.querySelector(`#block-${id} .renderer-core-field-footer`)\r\n\t\t\t\t.classList.remove('is-hidden');\r\n\t\t}\r\n\t\treturn () => {\r\n\t\t\t// Unbind the event listener on clean up\r\n\t\t\tdocument.removeEventListener('mousedown', handleClickOutside);\r\n\t\t};\r\n\t}, [showDropdown]);\r\n\r\n\tuseEffect(() => {\r\n\t\t// if change in attributes and is in preview mode, check validation\r\n\t\t// Note, that this effect will also be called on mount, that's why we check if isReviewing = false\r\n\t\t// because we want to display errors coming from server.\r\n\t\tif (isPreview || !isReviewing) checkFieldValidation(val);\r\n\t}, [val, attributes]);\r\n\r\n\tuseEffect(() => {\r\n\t\tif (showFDrop) {\r\n\t\t\tsetShowFixedDropdownInDom(showFDrop);\r\n\t\t\tsetFooterDisplay(false);\r\n\t\t} else {\r\n\t\t\ttimer3 = setTimeout(() => {\r\n\t\t\t\tsetShowFixedDropdownInDom(showFDrop);\r\n\t\t\t}, 500);\r\n\t\t}\r\n\r\n\t\treturn () => clearTimeout(timer3);\r\n\t}, [showFDrop]);\r\n\r\n\tconst changeHandler = (e) => {\r\n\t\t// show close icon of there is any string\r\n\t\tsetShowCloseIcon(e.target.value !== '');\r\n\t\tsetInputValue(e.target.value);\r\n\t\tif (!isTouchScreen) setShowDropdown(true);\r\n\t\tif (val) {\r\n\t\t\tsetVal(null);\r\n\t\t\tsetSearchKeyword('');\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tsetSearchKeyword(e.target.value);\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tif (!isActive) {\r\n\t\t\t//clearTimeout( timer );\r\n\t\t\tif (timer2) clearTimeout(timer2);\r\n\t\t}\r\n\t}, [isActive]);\r\n\r\n\tuseEffect(() => {\r\n\t\tif (val) {\r\n\t\t\tconst selectedChoice = $choices.find(\r\n\t\t\t\t(choice) => choice.value === val\r\n\t\t\t);\r\n\t\t\tsetSearchKeyword(selectedChoice ? selectedChoice.label : '');\r\n\t\t}\r\n\t\treturn () => {\r\n\t\t\t// clearTimeout( timer );\r\n\t\t\ttimer2 && clearTimeout(timer2);\r\n\t\t};\r\n\t}, []);\r\n\r\n\tfunction checkInView(container, element) {\r\n\t\t//Get container properties\r\n\t\tconst cTop = container.scrollTop;\r\n\t\tconst cBottom = cTop + container.clientHeight;\r\n\r\n\t\t//Get element properties\r\n\t\tconst eTop = element.offsetTop;\r\n\t\tconst eBottom = eTop + element.clientHeight;\r\n\r\n\t\t//Check if in view\r\n\t\treturn eTop >= cTop + 10 && eBottom <= cBottom - 50;\r\n\t}\r\n\r\n\tconst handleChoiceKeyDown = (e) => {\r\n\t\tif (isTouchScreen) return;\r\n\t\tif (e.keyCode === ESC_CODE) {\r\n\t\t\tsetShowDropdown(false);\r\n\t\t\tsetShowCloseIcon(inputValue !== '');\r\n\t\t\tsetSelectedChoiceIndex(-1);\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tif (e.keyCode === ARROW_UP_CODE || e.keyCode === ARROW_DOWN_CODE) {\r\n\t\t\tconst block = document.querySelector(\r\n\t\t\t\t`#block-${id}  .qf-block-dropdown-display__choices`\r\n\t\t\t);\r\n\t\t\tif (\r\n\t\t\t\t!block ||\r\n\t\t\t\t(selectedChoiceIndex <= 0 && e.keyCode === ARROW_UP_CODE) ||\r\n\t\t\t\t(selectedChoiceIndex === $choices.length - 1 &&\r\n\t\t\t\t\te.keyCode === ARROW_DOWN_CODE)\r\n\t\t\t) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tsetShowDropdown(true);\r\n\t\t\tconst newChoiceIndex =\r\n\t\t\t\te.keyCode === ARROW_UP_CODE\r\n\t\t\t\t\t? selectedChoiceIndex - 1\r\n\t\t\t\t\t: selectedChoiceIndex + 1;\r\n\t\t\tsetSelectedChoiceIndex(newChoiceIndex);\r\n\t\t\tconst choiceEl = document.getElementById(\r\n\t\t\t\t`block-${id}-option-${newChoiceIndex}`\r\n\t\t\t);\r\n\t\t\tif (!checkInView(block, choiceEl)) {\r\n\t\t\t\tblock.scrollTop = choiceEl.offsetTop - 30;\r\n\t\t\t}\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tif (e.keyCode === ENTER_CODE) {\r\n\t\t\te.stopPropagation();\r\n\t\t\tif (selectedChoiceIndex === -1) {\r\n\t\t\t\tsetShowDropdown(false);\r\n\t\t\t\tsetSelectedChoiceIndex(-1);\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tsetClicked(true);\r\n\t\t\t// selectedChoiceIndex > 4 &&\r\n\t\t\t// \tdocument\r\n\t\t\t// \t\t.querySelector( '.qf-block-dropdown-display__choices' )\r\n\t\t\t// \t\t.scrollTo( 0, ( selectedChoiceIndex - 3 ) * 49 );\r\n\t\t}\r\n\t};\r\n\r\n\tconst clickHandler = (choice = $choices[selectedChoiceIndex]) => {\r\n\t\tconst selectedIndex = $choices.findIndex(\r\n\t\t\t(c) => c.value === choice.value\r\n\t\t);\r\n\t\tif (selectedIndex !== selectedChoiceIndex)\r\n\t\t\tsetSelectedChoiceIndex(selectedIndex);\r\n\t\tsetClicked(false);\r\n\t\tsetShowCloseIcon(false);\r\n\t\tshowErrMsg(false);\r\n\t\tclearTimeout(timer);\r\n\t\tif (timer2) clearTimeout(timer2);\r\n\t\tif (val && val === choice.value) {\r\n\t\t\tsetVal(null);\r\n\t\t\tsetIsAnswered(false);\r\n\t\t\tsetSearchKeyword('');\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tsetIsAnswered(true);\r\n\t\tsetVal(choice.value);\r\n\t\ttimer = setTimeout(\r\n\t\t\t() => {\r\n\t\t\t\tsetSearchKeyword(choice.label);\r\n\t\t\t\tsetShowDropdown(false);\r\n\t\t\t\tsetSelectedChoiceIndex(-1);\r\n\t\t\t\tif (isTouchScreen) {\r\n\t\t\t\t\tsetShowFDrop(false);\r\n\t\t\t\t\tsetFooterDisplay(true);\r\n\t\t\t\t\t// timer2 for showing the input after choosing value\r\n\t\t\t\t\ttimer2 = setTimeout(() => {\r\n\t\t\t\t\t\tnext();\r\n\t\t\t\t\t}, 750);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnext();\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tisTouchScreen ? 500 : 700\r\n\t\t);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div ref={wrapperRef} style={{ position: 'relative' }}>\r\n\t\t\t<input\r\n\t\t\t\tautoComplete=\"off\"\r\n\t\t\t\tref={inputRef}\r\n\t\t\t\tclassName={cx(\r\n\t\t\t\t\tcss`\r\n\t\t\t\t\t\t& {\r\n\t\t\t\t\t\t\twidth: 100%;\r\n\t\t\t\t\t\t\tborder: none;\r\n\t\t\t\t\t\t\toutline: none;\r\n\t\t\t\t\t\t\tfont-size: 30px;\r\n\t\t\t\t\t\t\tpadding-bottom: 8px;\r\n\t\t\t\t\t\t\tbackground: transparent;\r\n\t\t\t\t\t\t\ttransition: box-shadow 0.1s ease-out 0s;\r\n\t\t\t\t\t\t\tbox-shadow: ${answersColor\r\n\t\t\t\t\t\t\t.setAlpha(0.3)\r\n\t\t\t\t\t\t\t.toString()}\r\n\t\t\t\t\t\t\t\t0px 1px;\r\n\t\t\t\t\t\t\t@media ( max-width: 600px ) {\r\n\t\t\t\t\t\t\t\tfont-size: 24px;\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t@media ( max-width: 480px ) {\r\n\t\t\t\t\t\t\t\tfont-size: 20px;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t&::placeholder {\r\n\t\t\t\t\t\t\topacity: 0.3;\r\n\t\t\t\t\t\t\t/* Chrome, Firefox, Opera, Safari 10.1+ */\r\n\t\t\t\t\t\t\tcolor: ${theme.answersColor};\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t&:-ms-input-placeholder {\r\n\t\t\t\t\t\t\topacity: 0.3;\r\n\t\t\t\t\t\t\t/* Internet Explorer 10-11 */\r\n\t\t\t\t\t\t\tcolor: ${theme.answersColor};\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t&::-ms-input-placeholder {\r\n\t\t\t\t\t\t\topacity: 0.3;\r\n\t\t\t\t\t\t\t/* Microsoft Edge */\r\n\t\t\t\t\t\t\tcolor: ${theme.answersColor};\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t&:focus {\r\n\t\t\t\t\t\t\tbox-shadow: ${answersColor\r\n\t\t\t\t\t\t\t.setAlpha(1)\r\n\t\t\t\t\t\t\t.toString()}\r\n\t\t\t\t\t\t\t\t0px 2px;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tcolor: ${theme.answersColor};\r\n\t\t\t\t\t`\r\n\t\t\t\t)}\r\n\t\t\t\tid={'dropdown-' + id}\r\n\t\t\t\tplaceholder={messages['block.dropdown.placeholder']}\r\n\t\t\t\tonChange={changeHandler}\r\n\t\t\t\tvalue={\r\n\t\t\t\t\tval && isTouchScreen\r\n\t\t\t\t\t\t? searchKeyword\r\n\t\t\t\t\t\t: !isTouchScreen\r\n\t\t\t\t\t\t\t? searchKeyword\r\n\t\t\t\t\t\t\t: ''\r\n\t\t\t\t}\r\n\t\t\t\tonClick={() => {\r\n\t\t\t\t\tif (isTouchScreen) {\r\n\t\t\t\t\t\tsetShowFDrop(true);\r\n\t\t\t\t\t\tinputRef.current.blur();\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tsetShowDropdown(true);\r\n\t\t\t\t\t}\r\n\t\t\t\t}}\r\n\t\t\t\tonFocus={() => {\r\n\t\t\t\t\tif (isTouchScreen) {\r\n\t\t\t\t\t\tsetFooterDisplay(false);\r\n\t\t\t\t\t}\r\n\t\t\t\t}}\r\n\t\t\t\tonBlur={() => {\r\n\t\t\t\t\tif (isTouchScreen) {\r\n\t\t\t\t\t\tsetFooterDisplay(true);\r\n\t\t\t\t\t}\r\n\t\t\t\t}}\r\n\t\t\t\tonKeyDown={handleChoiceKeyDown}\r\n\t\t\t\tautoComplete=\"off\"\r\n\t\t\t/>\r\n\t\t\t{(val && val.length > 0) ||\r\n\t\t\t\t(showCloseIcon && !isTouchScreen) ? (\r\n\t\t\t\t<CloseIcon\r\n\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\tclearTimeout(timer);\r\n\t\t\t\t\t\t\ttimer2 && clearTimeout(timer2);\r\n\t\t\t\t\t\t\tsetSearchKeyword('');\r\n\t\t\t\t\t\t\tsetIsAnswered(false);\r\n\t\t\t\t\t\t\tsetVal(undefined);\r\n\t\t\t\t\t\t\tsetShowCloseIcon(false);\r\n\t\t\t\t\t\t\tif (!isTouchScreen) {\r\n\t\t\t\t\t\t\tinputRef.current.focus();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t/>\r\n\t\t\t) : (\r\n\t\t\t\t<DropdownIcon\r\n\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\ttransform: `${showDropdown ? 'rotate(180deg)' : 'rotate(0deg)'\r\n\t\t\t\t\t\t\t\t}`,\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\tshowDropdown && setSelectedChoiceIndex(-1);\r\n\t\t\t\t\t\t\tif (isTouchScreen) {\r\n\t\t\t\t\t\t\t\tsetShowFDrop(!showFDrop);\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tsetShowDropdown(!showDropdown);\r\n\t\t\t\t\t\t\tinputRef.current.focus();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\tonKeyDown={(e) => {\r\n\t\t\t\t\t\t\tif (e.keyCode === ENTER_CODE) {\r\n\t\t\t\t\t\t\te.stopPropagation();\r\n\t\t\t\t\t\t\t\tshowDropdown && setSelectedChoiceIndex(-1);\r\n\t\t\t\t\t\t\t\tif (isTouchScreen) {\r\n\t\t\t\t\t\t\t\t\tsetShowFDrop(!showFDrop);\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tsetShowDropdown(!showDropdown);\r\n\t\t\t\t\t\t\t\tinputRef.current.focus();\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t/>\r\n\t\t\t)}\r\n\r\n\t\t\t{showDropdown && (\r\n\t\t\t\t<div\r\n\t\t\t\t\tclassName={cx(\r\n\t\t\t\t\t\t'qf-block-dropdown-display__choices',\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tvisible: showDropdown,\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tstyles.DropdownChoices,\r\n\t\t\t\t\t\tcss`\r\n\t\t\t\t\t\t\tbackground: ${theme.backgroundColor};\r\n\t\t\t\t\t\t\tpadding: 15px;\r\n\t\t\t\t\t\t\tborder: 1px dashed ${theme.answersColor};\r\n\t\t\t\t\t\t`\r\n\t\t\t\t\t)}\r\n\t\t\t\t\tref={choicesWrappeerRef}\r\n\t\t\t\t\tonWheel={(e) => {\r\n\t\t\t\t\t\tif (showDropdown) {\r\n\t\t\t\t\t\t\te.stopPropagation();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\t{$choices?.length > 0 ? (\r\n\t\t\t\t\t\t$choices.map((choice, index) => {\r\n\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t<ChoiceItem\r\n\t\t\t\t\t\t\t\t\tblockId={id}\r\n\t\t\t\t\t\t\t\t\tchoiceIndex={index}\r\n\t\t\t\t\t\t\t\t\thovered={index === selectedChoiceIndex}\r\n\t\t\t\t\t\t\t\t\tclicked={\r\n\t\t\t\t\t\t\t\t\t\tindex === selectedChoiceIndex && clicked\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\trole=\"presentation\"\r\n\t\t\t\t\t\t\t\t\tkey={`block-dropdown-${id}-choice-${choice.value}`}\r\n\t\t\t\t\t\t\t\t\tclickHandler={() =>\r\n\t\t\t\t\t\t\t\t\t\tclickHandler(choice)\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tchoice={choice}\r\n\t\t\t\t\t\t\t\t\tval={val}\r\n\t\t\t\t\t\t\t\t\tshowDropdown={showDropdown}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\tclassName={cx(css`\r\n\t\t\t\t\t\t\t\tbackground: ${theme.errorsBgColor};\r\n\t\t\t\t\t\t\t\tcolor: ${theme.errorsFontColor};\r\n\t\t\t\t\t\t\t\tdisplay: inline-block;\r\n\t\t\t\t\t\t\t\tpadding: 5px 10px;\r\n\t\t\t\t\t\t\t\tborder-radius: 5px;\r\n\t\t\t\t\t\t\t` )}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{messages['block.dropdown.noSuggestions']}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\r\n\t\t\t{showFixedDropdownInDom && (\r\n\t\t\t\t<>\r\n\t\t\t\t\t{createPortal(\r\n\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\tclassName={cx(\r\n\t\t\t\t\t\t\t\t'fixed-dropdown',\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\tshow: showFDrop,\r\n\t\t\t\t\t\t\t\t\thide: !showFDrop,\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\tstyles.FixedDropdown(theme)\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\tonWheel={(e) => e.stopPropagation()}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\tclassName=\"fixed-dropdown-content\"\r\n\t\t\t\t\t\t\t\tonWheel={(e) => {\r\n\t\t\t\t\t\t\t\t\te.stopPropagation();\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\tclassName={cx(\r\n\t\t\t\t\t\t\t\t\t\tcss`\r\n\t\t\t\t\t\t\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\t\t\t\t\t\t\talign-items: center;\r\n\t\t\t\t\t\t\t\t\t\t`\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<svg\r\n\t\t\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\t\t\tsetShowFDrop(false);\r\n\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"back-icon\"\r\n\t\t\t\t\t\t\t\t\t\tfocusable=\"false\"\r\n\t\t\t\t\t\t\t\t\t\tviewBox=\"0 0 16 16\"\r\n\t\t\t\t\t\t\t\t\t\taria-hidden=\"true\"\r\n\t\t\t\t\t\t\t\t\t\trole=\"presentation\"\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<path d=\"M15 8a.5.5 0 0 0-.5-.5H2.707l3.147-3.146a.5.5 0 1 0-.708-.708l-4 4a.5.5 0 0 0 0 .708l4 4a.5.5 0 0 0 .708-.708L2.707 8.5H14.5A.5.5 0 0 0 15 8z\"></path>\r\n\t\t\t\t\t\t\t\t\t</svg>\r\n\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\tautoFocus={false}\r\n\t\t\t\t\t\t\t\t\t\tclassName={cx(\r\n\t\t\t\t\t\t\t\t\t\t\tcss`\r\n\t\t\t\t\t\t\t\t\t\t\t\t& {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\twidth: 100%;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tborder: none;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\toutline: none;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tpadding-bottom: 8px;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tbackground: transparent;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tmargin-bottom: 10px;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttransition: box-shadow 0.1s\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tease-out 0s;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tbox-shadow: ${answersColor\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t.setAlpha(0.3)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t.toString()}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t0px 1px;\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t&::placeholder {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\topacity: 0.3;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t/* Chrome, Firefox, Opera, Safari 10.1+ */\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolor: ${theme.answersColor};\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t&:-ms-input-placeholder {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\topacity: 0.3;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t/* Internet Explorer 10-11 */\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolor: ${theme.answersColor};\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t&::-ms-input-placeholder {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\topacity: 0.3;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t/* Microsoft Edge */\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolor: ${theme.answersColor};\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t&:focus {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tbox-shadow: ${answersColor\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t.setAlpha(1)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t.toString()}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t0px 2px;\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\tcolor: ${theme.answersColor};\r\n\t\t\t\t\t\t\t\t\t\t\t`\r\n\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\tplaceholder={\r\n\t\t\t\t\t\t\t\t\t\t\tmessages[\r\n\t\t\t\t\t\t\t\t\t\t\t'block.dropdown.placeholder'\r\n\t\t\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\tonChange={changeHandler}\r\n\t\t\t\t\t\t\t\t\t\tvalue={searchKeyword}\r\n\t\t\t\t\t\t\t\t\t\tonFocus={() => {\r\n\t\t\t\t\t\t\t\t\t\t\tsetFooterDisplay(false);\r\n\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\tonBlur={() => {\r\n\t\t\t\t\t\t\t\t\t\t\tsetFooterDisplay(true);\r\n\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\tonKeyDown={handleChoiceKeyDown}\r\n\t\t\t\t\t\t\t\t\t\tautoComplete=\"off\"\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\tclassName=\"qf-block-dropdown-display__choices visible fixed-choices\"\r\n\t\t\t\t\t\t\t\t\tref={choicesWrappeerRef}\r\n\t\t\t\t\t\t\t\t\tonWheel={(e) => {\r\n\t\t\t\t\t\t\t\t\t\tif (showFixedDropdownInDom) {\r\n\t\t\t\t\t\t\t\t\t\t\te.stopPropagation();\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{$choices?.length > 0 ? (\r\n\t\t\t\t\t\t\t\t\t\t$choices.map((choice, index) => {\r\n\t\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<ChoiceItem\r\n\t\t\t\t\t\t\t\t\t\t\t\t\thovered={\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tindex ===\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tselectedChoiceIndex\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tchoiceIndex={index}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tblockId={id}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tclicked={\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tindex ===\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tselectedChoiceIndex &&\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclicked\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\trole=\"presentation\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tkey={`block-dropdown-${id}-choice-${choice.value}`}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tclickHandler={() =>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclickHandler(choice)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tchoice={choice}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tval={val}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tshowDropdown={\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tshowDropdown\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName={cx(css`\r\n\t\t\t\t\t\t\t\t\t\t\t\tbackground: ${theme.errorsBgColor};\r\n\t\t\t\t\t\t\t\t\t\t\t\tcolor: ${theme.errorsFontColor};\r\n\t\t\t\t\t\t\t\t\t\t\t\tdisplay: inline-block;\r\n\t\t\t\t\t\t\t\t\t\t\t\tpadding: 5px 10px;\r\n\t\t\t\t\t\t\t\t\t\t\t\tborder-radius: 5px;\r\n\t\t\t\t\t\t\t\t\t\t\t` )}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\tmessages[\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t'block.dropdown.noSuggestions'\r\n\t\t\t\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>,\r\n\t\t\t\t\t\tdocument.querySelector('.renderer-core-form-flow')\r\n\t\t\t\t\t)}\r\n\t\t\t\t</>\r\n\t\t\t)}\r\n\t\t</div>\r\n\t);\r\n};\r\nexport default DropdownDisplay;\r\n"],"mappings":"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"}