{"version":3,"names":["SelectControl","useEffect","css","DropdownLogicControl","_ref","attributes","value","setValue","removeCondition","choices","some","choice","options","map","index","key","name","label","createElement","className","find","option","onChange","selectedChoice","selectedItem"],"sources":["@quillforms/blocklib-dropdown-block/src/admin/logic-control.js"],"sourcesContent":["/**\r\n * QuillForms Dependencies\r\n */\r\nimport { SelectControl } from '@quillforms/admin-components';\r\n\r\n/**\r\n * WordPress Dependencies\r\n */\r\nimport { useEffect } from 'react';\r\n\r\n/**\r\n * External Dependencies\r\n */\r\nimport { css } from 'emotion';\r\n\r\nconst DropdownLogicControl = ( {\r\n\tattributes,\r\n\tvalue,\r\n\tsetValue,\r\n\tremoveCondition,\r\n} ) => {\r\n\tconst { choices } = attributes;\r\n\r\n\tuseEffect( () => {\r\n\t\tif ( ! value ) {\r\n\t\t\tsetValue( choices[ 0 ].value );\r\n\t\t} else if ( ! choices.some( ( choice ) => choice.value === value ) ) {\r\n\t\t\tremoveCondition();\r\n\t\t}\r\n\t}, [] );\r\n\tconst options = choices.map( ( choice, index ) => {\r\n\t\treturn {\r\n\t\t\tkey: choice.value,\r\n\t\t\tname: choice.label ? choice.label : `Choice ${ index + 1 }`,\r\n\t\t};\r\n\t} );\r\n\treturn (\r\n\t\t<SelectControl\r\n\t\t\tclassName={ css`\r\n\t\t\t\tmargin-top: 10px;\r\n\t\t\t\tmargin-bottom: 10px;\r\n\t\t\t` }\r\n\t\t\tvalue={ options.find( ( option ) => option.key === value ) }\r\n\t\t\tonChange={ ( selectedChoice ) => {\r\n\t\t\t\tsetValue( selectedChoice.selectedItem.key );\r\n\t\t\t} }\r\n\t\t\toptions={ options }\r\n\t\t/>\r\n\t);\r\n};\r\n\r\nexport default DropdownLogicControl;\r\n"],"mappings":";AAAA;AACA;AACA;AACA,SAASA,aAAa,QAAQ,8BAA8B;;AAE5D;AACA;AACA;AACA,SAASC,SAAS,QAAQ,OAAO;;AAEjC;AACA;AACA;AACA,SAASC,GAAG,QAAQ,SAAS;AAE7B,MAAMC,oBAAoB,GAAGC,IAAA,IAKtB;EAAA,IALwB;IAC9BC,UAAU;IACVC,KAAK;IACLC,QAAQ;IACRC;EACD,CAAC,GAAAJ,IAAA;EACA,MAAM;IAAEK;EAAQ,CAAC,GAAGJ,UAAU;EAE9BJ,SAAS,CAAE,MAAM;IAChB,IAAK,CAAEK,KAAK,EAAG;MACdC,QAAQ,CAAEE,OAAO,CAAE,CAAC,CAAE,CAACH,KAAK,CAAE;IAC/B,CAAC,MAAM,IAAK,CAAEG,OAAO,CAACC,IAAI,CAAIC,MAAM,IAAMA,MAAM,CAACL,KAAK,KAAKA,KAAK,CAAE,EAAG;MACpEE,eAAe,EAAE;IAClB;EACD,CAAC,EAAE,EAAE,CAAE;EACP,MAAMI,OAAO,GAAGH,OAAO,CAACI,GAAG,CAAE,CAAEF,MAAM,EAAEG,KAAK,KAAM;IACjD,OAAO;MACNC,GAAG,EAAEJ,MAAM,CAACL,KAAK;MACjBU,IAAI,EAAEL,MAAM,CAACM,KAAK,GAAGN,MAAM,CAACM,KAAK,GAAI,UAAUH,KAAK,GAAG,CAAG;IAC3D,CAAC;EACF,CAAC,CAAE;EACH,OACCI,aAAA,CAAClB,aAAa;IACbmB,SAAS,EAAGjB,GAAI;AACnB;AACA;AACA,IAAM;IACHI,KAAK,EAAGM,OAAO,CAACQ,IAAI,CAAIC,MAAM,IAAMA,MAAM,CAACN,GAAG,KAAKT,KAAK,CAAI;IAC5DgB,QAAQ,EAAKC,cAAc,IAAM;MAChChB,QAAQ,CAAEgB,cAAc,CAACC,YAAY,CAACT,GAAG,CAAE;IAC5C,CAAG;IACHH,OAAO,EAAGA;EAAS,EAClB;AAEJ,CAAC;AAED,eAAeT,oBAAoB"}