{"version":3,"names":["useRef","useEffect","useTraceUpdate","props","prev","changedProps","Object","entries","reduce","lookup","_ref","key","value","current","keys","length"],"sources":["@quillforms/utils/src/use-trace-updates.ts"],"sourcesContent":["import { useRef, useEffect } from 'react';\r\n\r\ninterface ObjectDict {\r\n\t[ index: string ]: any;\r\n}\r\n\r\nfunction useTraceUpdate( props: any ) {\r\n\tconst prev = useRef( props );\r\n\tuseEffect( () => {\r\n\t\tconst changedProps = Object.entries( props ).reduce(\r\n\t\t\t( lookup: ObjectDict, [ key, value ] ) => {\r\n\t\t\t\tif ( prev.current[ key ] !== value ) {\r\n\t\t\t\t\tlookup[ key ] = [ prev.current[ key ], value ];\r\n\t\t\t\t}\r\n\t\t\t\treturn lookup;\r\n\t\t\t},\r\n\t\t\t{}\r\n\t\t);\r\n\t\tif ( Object.keys( changedProps ).length > 0 ) {\r\n\t\t\t//console.log( 'Changed props:', changedProps );\r\n\t\t}\r\n\t\tprev.current = props;\r\n\t} );\r\n}\r\n\r\nexport default useTraceUpdate;\r\n"],"mappings":"AAAA,SAASA,MAAM,EAAEC,SAAS,QAAQ,OAAO;AAMzC,SAASC,cAAcA,CAAEC,KAAU,EAAG;EACrC,MAAMC,IAAI,GAAGJ,MAAM,CAAEG,KAAK,CAAE;EAC5BF,SAAS,CAAE,MAAM;IAChB,MAAMI,YAAY,GAAGC,MAAM,CAACC,OAAO,CAAEJ,KAAK,CAAE,CAACK,MAAM,CAClD,CAAEC,MAAkB,EAAAC,IAAA,KAAsB;MAAA,IAApB,CAAEC,GAAG,EAAEC,KAAK,CAAE,GAAAF,IAAA;MACnC,IAAKN,IAAI,CAACS,OAAO,CAAEF,GAAG,CAAE,KAAKC,KAAK,EAAG;QACpCH,MAAM,CAAEE,GAAG,CAAE,GAAG,CAAEP,IAAI,CAACS,OAAO,CAAEF,GAAG,CAAE,EAAEC,KAAK,CAAE;MAC/C;MACA,OAAOH,MAAM;IACd,CAAC,EACD,CAAC,CAAC,CACF;IACD,IAAKH,MAAM,CAACQ,IAAI,CAAET,YAAY,CAAE,CAACU,MAAM,GAAG,CAAC,EAAG;MAC7C;IAAA;IAEDX,IAAI,CAACS,OAAO,GAAGV,KAAK;EACrB,CAAC,CAAE;AACJ;AAEA,eAAeD,cAAc"}